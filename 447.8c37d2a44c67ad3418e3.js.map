{"version":3,"file":"447.8c37d2a44c67ad3418e3.js","mappings":"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","sources":["webpack://@bitwarden/web-vault/webpack/runtime/chunk loaded","webpack://@bitwarden/web-vault/webpack/runtime/startup chunk dependencies","webpack://@bitwarden/web-vault/../../libs/common/src/enums/encryptionType.ts","webpack://@bitwarden/web-vault/../../libs/common/src/misc/utils.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/symmetric-crypto-key.ts","webpack://@bitwarden/web-vault/../../libs/common/src/enums/logLevelType.ts","webpack://@bitwarden/web-vault/../../libs/common/src/services/consoleLog.service.ts","webpack://@bitwarden/web-vault/../../libs/common/src/services/container.service.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/decrypt-parameters.ts","webpack://@bitwarden/web-vault/../../libs/common/src/services/webCryptoFunction.service.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/enc-array-buffer.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/enc-string.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/encrypted-object.ts","webpack://@bitwarden/web-vault/../../libs/common/src/enums/cipherType.ts","webpack://@bitwarden/web-vault/../../libs/common/src/services/cryptography/initializer-key.ts","webpack://@bitwarden/web-vault/../../libs/common/src/enums/cipherRepromptType.ts","webpack://@bitwarden/web-vault/../../libs/common/src/enums/linkedIdType.ts","webpack://@bitwarden/web-vault/../../libs/common/src/services/cryptography/encrypt.service.implementation.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/attachment.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/card.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/field.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/identity.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/login-uri.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/login.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/password-history.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/secure-note.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/data/cipher.data.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/attachment.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/misc/linkedFieldOption.decorator.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/item.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/card.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/field.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/enums/uriMatchType.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/identity.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/login-uri.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/login.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/password-history.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/secure-note.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/view/cipher.view.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/domain-base.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/attachment.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/card.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/field.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/identity.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/login-uri.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/login.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/password.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/secure-note.ts","webpack://@bitwarden/web-vault/../../libs/common/src/models/domain/cipher.ts","webpack://@bitwarden/web-vault/../../libs/common/src/services/cryptography/get-class-initializer.ts","webpack://@bitwarden/web-vault/../../libs/common/src/services/cryptography/encrypt.worker.ts","webpack://@bitwarden/web-vault/webpack/bootstrap","webpack://@bitwarden/web-vault/webpack/runtime/define property getters","webpack://@bitwarden/web-vault/webpack/runtime/ensure chunk","webpack://@bitwarden/web-vault/webpack/runtime/get javascript chunk filename","webpack://@bitwarden/web-vault/webpack/runtime/get mini-css chunk filename","webpack://@bitwarden/web-vault/webpack/runtime/global","webpack://@bitwarden/web-vault/webpack/runtime/hasOwnProperty shorthand","webpack://@bitwarden/web-vault/webpack/runtime/node module decorator","webpack://@bitwarden/web-vault/webpack/runtime/publicPath","webpack://@bitwarden/web-vault/webpack/runtime/importScripts chunk loading","webpack://@bitwarden/web-vault/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(933).then(next);\n};","export enum EncryptionType {\n  AesCbc256_B64 = 0,\n  AesCbc128_HmacSha256_B64 = 1,\n  AesCbc256_HmacSha256_B64 = 2,\n  Rsa2048_OaepSha256_B64 = 3,\n  Rsa2048_OaepSha1_B64 = 4,\n  Rsa2048_OaepSha256_HmacSha256_B64 = 5,\n  Rsa2048_OaepSha1_HmacSha256_B64 = 6,\n}\n","/* eslint-disable no-useless-escape */\nimport { getHostname, parse } from \"tldts\";\n\nimport { CryptoService } from \"../abstractions/crypto.service\";\nimport { EncryptService } from \"../abstractions/encrypt.service\";\nimport { I18nService } from \"../abstractions/i18n.service\";\n\nconst nodeURL = typeof window === \"undefined\" ? require(\"url\") : null;\n\ndeclare global {\n  /* eslint-disable-next-line no-var */\n  var bitwardenContainerService: BitwardenContainerService;\n}\n\ninterface BitwardenContainerService {\n  getCryptoService: () => CryptoService;\n  getEncryptService: () => EncryptService;\n}\n\nexport class Utils {\n  static inited = false;\n  static isNode = false;\n  static isBrowser = true;\n  static isMobileBrowser = false;\n  static isAppleMobileBrowser = false;\n  static global: typeof global = null;\n  // Transpiled version of /\\p{Emoji_Presentation}/gu using https://mothereff.in/regexpu. Used for compatability in older browsers.\n  static regexpEmojiPresentation =\n    /(?:[\\u231A\\u231B\\u23E9-\\u23EC\\u23F0\\u23F3\\u25FD\\u25FE\\u2614\\u2615\\u2648-\\u2653\\u267F\\u2693\\u26A1\\u26AA\\u26AB\\u26BD\\u26BE\\u26C4\\u26C5\\u26CE\\u26D4\\u26EA\\u26F2\\u26F3\\u26F5\\u26FA\\u26FD\\u2705\\u270A\\u270B\\u2728\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2795-\\u2797\\u27B0\\u27BF\\u2B1B\\u2B1C\\u2B50\\u2B55]|\\uD83C[\\uDC04\\uDCCF\\uDD8E\\uDD91-\\uDD9A\\uDDE6-\\uDDFF\\uDE01\\uDE1A\\uDE2F\\uDE32-\\uDE36\\uDE38-\\uDE3A\\uDE50\\uDE51\\uDF00-\\uDF20\\uDF2D-\\uDF35\\uDF37-\\uDF7C\\uDF7E-\\uDF93\\uDFA0-\\uDFCA\\uDFCF-\\uDFD3\\uDFE0-\\uDFF0\\uDFF4\\uDFF8-\\uDFFF]|\\uD83D[\\uDC00-\\uDC3E\\uDC40\\uDC42-\\uDCFC\\uDCFF-\\uDD3D\\uDD4B-\\uDD4E\\uDD50-\\uDD67\\uDD7A\\uDD95\\uDD96\\uDDA4\\uDDFB-\\uDE4F\\uDE80-\\uDEC5\\uDECC\\uDED0-\\uDED2\\uDED5-\\uDED7\\uDEEB\\uDEEC\\uDEF4-\\uDEFC\\uDFE0-\\uDFEB]|\\uD83E[\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDD78\\uDD7A-\\uDDCB\\uDDCD-\\uDDFF\\uDE70-\\uDE74\\uDE78-\\uDE7A\\uDE80-\\uDE86\\uDE90-\\uDEA8\\uDEB0-\\uDEB6\\uDEC0-\\uDEC2\\uDED0-\\uDED6])/g;\n  static readonly validHosts: string[] = [\"localhost\"];\n\n  static init() {\n    if (Utils.inited) {\n      return;\n    }\n\n    Utils.inited = true;\n    Utils.isNode =\n      typeof process !== \"undefined\" &&\n      (process as any).release != null &&\n      (process as any).release.name === \"node\";\n    Utils.isBrowser = typeof window !== \"undefined\";\n\n    Utils.isMobileBrowser = Utils.isBrowser && this.isMobile(window);\n    Utils.isAppleMobileBrowser = Utils.isBrowser && this.isAppleMobile(window);\n\n    if (Utils.isNode) {\n      Utils.global = global;\n    } else if (Utils.isBrowser) {\n      Utils.global = window;\n    } else {\n      // If it's not browser or node then it must be a service worker\n      Utils.global = self;\n    }\n  }\n\n  static fromB64ToArray(str: string): Uint8Array {\n    if (Utils.isNode) {\n      return new Uint8Array(Buffer.from(str, \"base64\"));\n    } else {\n      const binaryString = Utils.global.atob(str);\n      const bytes = new Uint8Array(binaryString.length);\n      for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n      }\n      return bytes;\n    }\n  }\n\n  static fromUrlB64ToArray(str: string): Uint8Array {\n    return Utils.fromB64ToArray(Utils.fromUrlB64ToB64(str));\n  }\n\n  static fromHexToArray(str: string): Uint8Array {\n    if (Utils.isNode) {\n      return new Uint8Array(Buffer.from(str, \"hex\"));\n    } else {\n      const bytes = new Uint8Array(str.length / 2);\n      for (let i = 0; i < str.length; i += 2) {\n        bytes[i / 2] = parseInt(str.substr(i, 2), 16);\n      }\n      return bytes;\n    }\n  }\n\n  static fromUtf8ToArray(str: string): Uint8Array {\n    if (Utils.isNode) {\n      return new Uint8Array(Buffer.from(str, \"utf8\"));\n    } else {\n      const strUtf8 = unescape(encodeURIComponent(str));\n      const arr = new Uint8Array(strUtf8.length);\n      for (let i = 0; i < strUtf8.length; i++) {\n        arr[i] = strUtf8.charCodeAt(i);\n      }\n      return arr;\n    }\n  }\n\n  static fromByteStringToArray(str: string): Uint8Array {\n    if (str == null) {\n      return null;\n    }\n    const arr = new Uint8Array(str.length);\n    for (let i = 0; i < str.length; i++) {\n      arr[i] = str.charCodeAt(i);\n    }\n    return arr;\n  }\n\n  static fromBufferToB64(buffer: ArrayBuffer): string {\n    if (Utils.isNode) {\n      return Buffer.from(buffer).toString(\"base64\");\n    } else {\n      let binary = \"\";\n      const bytes = new Uint8Array(buffer);\n      for (let i = 0; i < bytes.byteLength; i++) {\n        binary += String.fromCharCode(bytes[i]);\n      }\n      return Utils.global.btoa(binary);\n    }\n  }\n\n  static fromBufferToUrlB64(buffer: ArrayBuffer): string {\n    return Utils.fromB64toUrlB64(Utils.fromBufferToB64(buffer));\n  }\n\n  static fromB64toUrlB64(b64Str: string) {\n    return b64Str.replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n  }\n\n  static fromBufferToUtf8(buffer: ArrayBuffer): string {\n    if (Utils.isNode) {\n      return Buffer.from(buffer).toString(\"utf8\");\n    } else {\n      const bytes = new Uint8Array(buffer);\n      const encodedString = String.fromCharCode.apply(null, bytes);\n      return decodeURIComponent(escape(encodedString));\n    }\n  }\n\n  static fromBufferToByteString(buffer: ArrayBuffer): string {\n    return String.fromCharCode.apply(null, new Uint8Array(buffer));\n  }\n\n  // ref: https://stackoverflow.com/a/40031979/1090359\n  static fromBufferToHex(buffer: ArrayBuffer): string {\n    if (Utils.isNode) {\n      return Buffer.from(buffer).toString(\"hex\");\n    } else {\n      const bytes = new Uint8Array(buffer);\n      return Array.prototype.map\n        .call(bytes, (x: number) => (\"00\" + x.toString(16)).slice(-2))\n        .join(\"\");\n    }\n  }\n\n  static fromUrlB64ToB64(urlB64Str: string): string {\n    let output = urlB64Str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch (output.length % 4) {\n      case 0:\n        break;\n      case 2:\n        output += \"==\";\n        break;\n      case 3:\n        output += \"=\";\n        break;\n      default:\n        throw new Error(\"Illegal base64url string!\");\n    }\n\n    return output;\n  }\n\n  static fromUrlB64ToUtf8(urlB64Str: string): string {\n    return Utils.fromB64ToUtf8(Utils.fromUrlB64ToB64(urlB64Str));\n  }\n\n  static fromUtf8ToB64(utfStr: string): string {\n    if (Utils.isNode) {\n      return Buffer.from(utfStr, \"utf8\").toString(\"base64\");\n    } else {\n      return decodeURIComponent(escape(Utils.global.btoa(utfStr)));\n    }\n  }\n\n  static fromUtf8ToUrlB64(utfStr: string): string {\n    return Utils.fromBufferToUrlB64(Utils.fromUtf8ToArray(utfStr));\n  }\n\n  static fromB64ToUtf8(b64Str: string): string {\n    if (Utils.isNode) {\n      return Buffer.from(b64Str, \"base64\").toString(\"utf8\");\n    } else {\n      return decodeURIComponent(escape(Utils.global.atob(b64Str)));\n    }\n  }\n\n  // ref: http://stackoverflow.com/a/2117523/1090359\n  static newGuid(): string {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, (c) => {\n      const r = (Math.random() * 16) | 0;\n      const v = c === \"x\" ? r : (r & 0x3) | 0x8;\n      return v.toString(16);\n    });\n  }\n\n  static isGuid(id: string) {\n    return RegExp(\n      /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/,\n      \"i\"\n    ).test(id);\n  }\n\n  static getHostname(uriString: string): string {\n    if (Utils.isNullOrWhitespace(uriString)) {\n      return null;\n    }\n\n    uriString = uriString.trim();\n\n    if (uriString.startsWith(\"data:\")) {\n      return null;\n    }\n\n    if (uriString.startsWith(\"about:\")) {\n      return null;\n    }\n\n    if (uriString.startsWith(\"file:\")) {\n      return null;\n    }\n\n    // Does uriString contain invalid characters\n    // TODO Needs to possibly be extended, although '!' is a reserved character\n    if (uriString.indexOf(\"!\") > 0) {\n      return null;\n    }\n\n    try {\n      const hostname = getHostname(uriString, { validHosts: this.validHosts });\n      if (hostname != null) {\n        return hostname;\n      }\n    } catch {\n      return null;\n    }\n    return null;\n  }\n\n  static getHost(uriString: string): string {\n    const url = Utils.getUrl(uriString);\n    try {\n      return url != null && url.host !== \"\" ? url.host : null;\n    } catch {\n      return null;\n    }\n  }\n\n  static getDomain(uriString: string): string {\n    if (Utils.isNullOrWhitespace(uriString)) {\n      return null;\n    }\n\n    uriString = uriString.trim();\n\n    if (uriString.startsWith(\"data:\")) {\n      return null;\n    }\n\n    if (uriString.startsWith(\"about:\")) {\n      return null;\n    }\n\n    try {\n      const parseResult = parse(uriString, { validHosts: this.validHosts });\n      if (parseResult != null && parseResult.hostname != null) {\n        if (parseResult.hostname === \"localhost\" || parseResult.isIp) {\n          return parseResult.hostname;\n        }\n\n        if (parseResult.domain != null) {\n          return parseResult.domain;\n        }\n        return null;\n      }\n    } catch {\n      return null;\n    }\n    return null;\n  }\n\n  static getQueryParams(uriString: string): Map<string, string> {\n    const url = Utils.getUrl(uriString);\n    if (url == null || url.search == null || url.search === \"\") {\n      return null;\n    }\n    const map = new Map<string, string>();\n    const pairs = (url.search[0] === \"?\" ? url.search.substr(1) : url.search).split(\"&\");\n    pairs.forEach((pair) => {\n      const parts = pair.split(\"=\");\n      if (parts.length < 1) {\n        return;\n      }\n      map.set(\n        decodeURIComponent(parts[0]).toLowerCase(),\n        parts[1] == null ? \"\" : decodeURIComponent(parts[1])\n      );\n    });\n    return map;\n  }\n\n  static getSortFunction<T>(\n    i18nService: I18nService,\n    prop: { [K in keyof T]: T[K] extends string ? K : never }[keyof T]\n  ): (a: T, b: T) => number {\n    return (a, b) => {\n      if (a[prop] == null && b[prop] != null) {\n        return -1;\n      }\n      if (a[prop] != null && b[prop] == null) {\n        return 1;\n      }\n      if (a[prop] == null && b[prop] == null) {\n        return 0;\n      }\n\n      // The `as unknown as string` here is unfortunate because typescript doesn't property understand that the return of T[prop] will be a string\n      return i18nService.collator\n        ? i18nService.collator.compare(a[prop] as unknown as string, b[prop] as unknown as string)\n        : (a[prop] as unknown as string).localeCompare(b[prop] as unknown as string);\n    };\n  }\n\n  static isNullOrWhitespace(str: string): boolean {\n    return str == null || typeof str !== \"string\" || str.trim() === \"\";\n  }\n\n  static isNullOrEmpty(str: string): boolean {\n    return str == null || typeof str !== \"string\" || str == \"\";\n  }\n\n  static isPromise(obj: any): obj is Promise<unknown> {\n    return (\n      obj != undefined && typeof obj[\"then\"] === \"function\" && typeof obj[\"catch\"] === \"function\"\n    );\n  }\n\n  static nameOf<T>(name: string & keyof T) {\n    return name;\n  }\n\n  static assign<T>(target: T, source: Partial<T>): T {\n    return Object.assign(target, source);\n  }\n\n  static iterateEnum<O extends object, K extends keyof O = keyof O>(obj: O) {\n    return (Object.keys(obj).filter((k) => Number.isNaN(+k)) as K[]).map((k) => obj[k]);\n  }\n\n  static getUrl(uriString: string): URL {\n    if (this.isNullOrWhitespace(uriString)) {\n      return null;\n    }\n\n    uriString = uriString.trim();\n\n    let url = Utils.getUrlObject(uriString);\n    if (url == null) {\n      const hasHttpProtocol =\n        uriString.indexOf(\"http://\") === 0 || uriString.indexOf(\"https://\") === 0;\n      if (!hasHttpProtocol && uriString.indexOf(\".\") > -1) {\n        url = Utils.getUrlObject(\"http://\" + uriString);\n      }\n    }\n    return url;\n  }\n\n  static camelToPascalCase(s: string) {\n    return s.charAt(0).toUpperCase() + s.slice(1);\n  }\n\n  /**\n   * There are a few ways to calculate text color for contrast, this one seems to fit accessibility guidelines best.\n   * https://stackoverflow.com/a/3943023/6869691\n   *\n   * @param {string} bgColor\n   * @param {number} [threshold] see stackoverflow link above\n   * @param {boolean} [svgTextFill]\n   * Indicates if this method is performed on an SVG <text> 'fill' attribute (e.g. <text fill=\"black\"></text>).\n   * This check is necessary because the '!important' tag cannot be used in a 'fill' attribute.\n   */\n  static pickTextColorBasedOnBgColor(bgColor: string, threshold = 186, svgTextFill = false) {\n    const bgColorHexNums = bgColor.charAt(0) === \"#\" ? bgColor.substring(1, 7) : bgColor;\n    const r = parseInt(bgColorHexNums.substring(0, 2), 16); // hexToR\n    const g = parseInt(bgColorHexNums.substring(2, 4), 16); // hexToG\n    const b = parseInt(bgColorHexNums.substring(4, 6), 16); // hexToB\n    const blackColor = svgTextFill ? \"black\" : \"black !important\";\n    const whiteColor = svgTextFill ? \"white\" : \"white !important\";\n    return r * 0.299 + g * 0.587 + b * 0.114 > threshold ? blackColor : whiteColor;\n  }\n\n  static stringToColor(str: string): string {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      hash = str.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    let color = \"#\";\n    for (let i = 0; i < 3; i++) {\n      const value = (hash >> (i * 8)) & 0xff;\n      color += (\"00\" + value.toString(16)).substr(-2);\n    }\n    return color;\n  }\n\n  /**\n   * @throws Will throw an error if the ContainerService has not been attached to the window object\n   */\n  static getContainerService(): BitwardenContainerService {\n    if (this.global.bitwardenContainerService == null) {\n      throw new Error(\"global bitwardenContainerService not initialized.\");\n    }\n    return this.global.bitwardenContainerService;\n  }\n\n  private static isMobile(win: Window) {\n    let mobile = false;\n    ((a) => {\n      if (\n        /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n          a\n        ) ||\n        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n          a.substr(0, 4)\n        )\n      ) {\n        mobile = true;\n      }\n    })(win.navigator.userAgent || win.navigator.vendor || (win as any).opera);\n    return mobile || win.navigator.userAgent.match(/iPad/i) != null;\n  }\n\n  private static isAppleMobile(win: Window) {\n    return (\n      win.navigator.userAgent.match(/iPhone/i) != null ||\n      win.navigator.userAgent.match(/iPad/i) != null\n    );\n  }\n\n  private static getUrlObject(uriString: string): URL {\n    try {\n      if (nodeURL != null) {\n        return new nodeURL.URL(uriString);\n      } else if (typeof URL === \"function\") {\n        return new URL(uriString);\n      } else if (typeof window !== \"undefined\") {\n        const hasProtocol = uriString.indexOf(\"://\") > -1;\n        if (!hasProtocol && uriString.indexOf(\".\") > -1) {\n          uriString = \"http://\" + uriString;\n        } else if (!hasProtocol) {\n          return null;\n        }\n        const anchor = window.document.createElement(\"a\");\n        anchor.href = uriString;\n        return anchor as any;\n      }\n    } catch (e) {\n      // Ignore error\n    }\n\n    return null;\n  }\n}\n\nUtils.init();\n","import { Jsonify } from \"type-fest\";\n\nimport { EncryptionType } from \"../../enums/encryptionType\";\nimport { Utils } from \"../../misc/utils\";\n\nexport class SymmetricCryptoKey {\n  key: ArrayBuffer;\n  encKey?: ArrayBuffer;\n  macKey?: ArrayBuffer;\n  encType: EncryptionType;\n\n  keyB64: string;\n  encKeyB64: string;\n  macKeyB64: string;\n\n  meta: any;\n\n  constructor(key: ArrayBuffer, encType?: EncryptionType) {\n    if (key == null) {\n      throw new Error(\"Must provide key\");\n    }\n\n    if (encType == null) {\n      if (key.byteLength === 32) {\n        encType = EncryptionType.AesCbc256_B64;\n      } else if (key.byteLength === 64) {\n        encType = EncryptionType.AesCbc256_HmacSha256_B64;\n      } else {\n        throw new Error(\"Unable to determine encType.\");\n      }\n    }\n\n    this.key = key;\n    this.encType = encType;\n\n    if (encType === EncryptionType.AesCbc256_B64 && key.byteLength === 32) {\n      this.encKey = key;\n      this.macKey = null;\n    } else if (encType === EncryptionType.AesCbc128_HmacSha256_B64 && key.byteLength === 32) {\n      this.encKey = key.slice(0, 16);\n      this.macKey = key.slice(16, 32);\n    } else if (encType === EncryptionType.AesCbc256_HmacSha256_B64 && key.byteLength === 64) {\n      this.encKey = key.slice(0, 32);\n      this.macKey = key.slice(32, 64);\n    } else {\n      throw new Error(\"Unsupported encType/key length.\");\n    }\n\n    if (this.key != null) {\n      this.keyB64 = Utils.fromBufferToB64(this.key);\n    }\n    if (this.encKey != null) {\n      this.encKeyB64 = Utils.fromBufferToB64(this.encKey);\n    }\n    if (this.macKey != null) {\n      this.macKeyB64 = Utils.fromBufferToB64(this.macKey);\n    }\n  }\n\n  toJSON() {\n    // The whole object is constructed from the initial key, so just store the B64 key\n    return { keyB64: this.keyB64 };\n  }\n\n  static fromJSON(obj: Jsonify<SymmetricCryptoKey>): SymmetricCryptoKey {\n    if (obj == null) {\n      return null;\n    }\n\n    const arrayBuffer = Utils.fromB64ToArray(obj.keyB64).buffer;\n    return new SymmetricCryptoKey(arrayBuffer);\n  }\n}\n","export enum LogLevelType {\n  Debug,\n  Info,\n  Warning,\n  Error,\n}\n","import { LogService as LogServiceAbstraction } from \"../abstractions/log.service\";\nimport { LogLevelType } from \"../enums/logLevelType\";\n\nexport class ConsoleLogService implements LogServiceAbstraction {\n  protected timersMap: Map<string, [number, number]> = new Map();\n\n  constructor(\n    protected isDev: boolean,\n    protected filter: (level: LogLevelType) => boolean = null\n  ) {}\n\n  debug(message: string) {\n    if (!this.isDev) {\n      return;\n    }\n    this.write(LogLevelType.Debug, message);\n  }\n\n  info(message: string) {\n    this.write(LogLevelType.Info, message);\n  }\n\n  warning(message: string) {\n    this.write(LogLevelType.Warning, message);\n  }\n\n  error(message: string) {\n    this.write(LogLevelType.Error, message);\n  }\n\n  write(level: LogLevelType, message: string) {\n    if (this.filter != null && this.filter(level)) {\n      return;\n    }\n\n    switch (level) {\n      case LogLevelType.Debug:\n        // eslint-disable-next-line\n        console.log(message);\n        break;\n      case LogLevelType.Info:\n        // eslint-disable-next-line\n        console.log(message);\n        break;\n      case LogLevelType.Warning:\n        // eslint-disable-next-line\n        console.warn(message);\n        break;\n      case LogLevelType.Error:\n        // eslint-disable-next-line\n        console.error(message);\n        break;\n      default:\n        break;\n    }\n  }\n}\n","import { CryptoService } from \"../abstractions/crypto.service\";\nimport { EncryptService } from \"../abstractions/encrypt.service\";\n\nexport class ContainerService {\n  constructor(private cryptoService: CryptoService, private encryptService: EncryptService) {}\n\n  attachToGlobal(global: any) {\n    if (!global.bitwardenContainerService) {\n      global.bitwardenContainerService = this;\n    }\n  }\n\n  /**\n   * @throws Will throw if CryptoService was not instantiated and provided to the ContainerService constructor\n   */\n  getCryptoService(): CryptoService {\n    if (this.cryptoService == null) {\n      throw new Error(\"ContainerService.cryptoService not initialized.\");\n    }\n    return this.cryptoService;\n  }\n\n  /**\n   * @throws Will throw if EncryptService was not instantiated and provided to the ContainerService constructor\n   */\n  getEncryptService(): EncryptService {\n    if (this.encryptService == null) {\n      throw new Error(\"ContainerService.encryptService not initialized.\");\n    }\n    return this.encryptService;\n  }\n}\n","export class DecryptParameters<T> {\n  encKey: T;\n  data: T;\n  iv: T;\n  macKey: T;\n  mac: T;\n  macData: T;\n}\n","import * as forge from \"node-forge\";\n\nimport { CryptoFunctionService } from \"../abstractions/cryptoFunction.service\";\nimport { Utils } from \"../misc/utils\";\nimport { DecryptParameters } from \"../models/domain/decrypt-parameters\";\nimport { SymmetricCryptoKey } from \"../models/domain/symmetric-crypto-key\";\n\nexport class WebCryptoFunctionService implements CryptoFunctionService {\n  private crypto: Crypto;\n  private subtle: SubtleCrypto;\n\n  constructor(win: Window | typeof global) {\n    this.crypto = typeof win.crypto !== \"undefined\" ? win.crypto : null;\n    this.subtle =\n      !!this.crypto && typeof win.crypto.subtle !== \"undefined\" ? win.crypto.subtle : null;\n  }\n\n  async pbkdf2(\n    password: string | ArrayBuffer,\n    salt: string | ArrayBuffer,\n    algorithm: \"sha256\" | \"sha512\",\n    iterations: number\n  ): Promise<ArrayBuffer> {\n    const wcLen = algorithm === \"sha256\" ? 256 : 512;\n    const passwordBuf = this.toBuf(password);\n    const saltBuf = this.toBuf(salt);\n\n    const pbkdf2Params: Pbkdf2Params = {\n      name: \"PBKDF2\",\n      salt: saltBuf,\n      iterations: iterations,\n      hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n    };\n\n    const impKey = await this.subtle.importKey(\n      \"raw\",\n      passwordBuf,\n      { name: \"PBKDF2\" } as any,\n      false,\n      [\"deriveBits\"]\n    );\n    return await this.subtle.deriveBits(pbkdf2Params, impKey, wcLen);\n  }\n\n  async hkdf(\n    ikm: ArrayBuffer,\n    salt: string | ArrayBuffer,\n    info: string | ArrayBuffer,\n    outputByteSize: number,\n    algorithm: \"sha256\" | \"sha512\"\n  ): Promise<ArrayBuffer> {\n    const saltBuf = this.toBuf(salt);\n    const infoBuf = this.toBuf(info);\n\n    const hkdfParams: HkdfParams = {\n      name: \"HKDF\",\n      salt: saltBuf,\n      info: infoBuf,\n      hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n    };\n\n    const impKey = await this.subtle.importKey(\"raw\", ikm, { name: \"HKDF\" } as any, false, [\n      \"deriveBits\",\n    ]);\n    return await this.subtle.deriveBits(hkdfParams as any, impKey, outputByteSize * 8);\n  }\n\n  // ref: https://tools.ietf.org/html/rfc5869\n  async hkdfExpand(\n    prk: ArrayBuffer,\n    info: string | ArrayBuffer,\n    outputByteSize: number,\n    algorithm: \"sha256\" | \"sha512\"\n  ): Promise<ArrayBuffer> {\n    const hashLen = algorithm === \"sha256\" ? 32 : 64;\n    if (outputByteSize > 255 * hashLen) {\n      throw new Error(\"outputByteSize is too large.\");\n    }\n    const prkArr = new Uint8Array(prk);\n    if (prkArr.length < hashLen) {\n      throw new Error(\"prk is too small.\");\n    }\n    const infoBuf = this.toBuf(info);\n    const infoArr = new Uint8Array(infoBuf);\n    let runningOkmLength = 0;\n    let previousT = new Uint8Array(0);\n    const n = Math.ceil(outputByteSize / hashLen);\n    const okm = new Uint8Array(n * hashLen);\n    for (let i = 0; i < n; i++) {\n      const t = new Uint8Array(previousT.length + infoArr.length + 1);\n      t.set(previousT);\n      t.set(infoArr, previousT.length);\n      t.set([i + 1], t.length - 1);\n      previousT = new Uint8Array(await this.hmac(t.buffer, prk, algorithm));\n      okm.set(previousT, runningOkmLength);\n      runningOkmLength += previousT.length;\n      if (runningOkmLength >= outputByteSize) {\n        break;\n      }\n    }\n    return okm.slice(0, outputByteSize).buffer;\n  }\n\n  async hash(\n    value: string | ArrayBuffer,\n    algorithm: \"sha1\" | \"sha256\" | \"sha512\" | \"md5\"\n  ): Promise<ArrayBuffer> {\n    if (algorithm === \"md5\") {\n      const md = algorithm === \"md5\" ? forge.md.md5.create() : forge.md.sha1.create();\n      const valueBytes = this.toByteString(value);\n      md.update(valueBytes, \"raw\");\n      return Utils.fromByteStringToArray(md.digest().data).buffer;\n    }\n\n    const valueBuf = this.toBuf(value);\n    return await this.subtle.digest({ name: this.toWebCryptoAlgorithm(algorithm) }, valueBuf);\n  }\n\n  async hmac(\n    value: ArrayBuffer,\n    key: ArrayBuffer,\n    algorithm: \"sha1\" | \"sha256\" | \"sha512\"\n  ): Promise<ArrayBuffer> {\n    const signingAlgorithm = {\n      name: \"HMAC\",\n      hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n    };\n\n    const impKey = await this.subtle.importKey(\"raw\", key, signingAlgorithm, false, [\"sign\"]);\n    return await this.subtle.sign(signingAlgorithm, impKey, value);\n  }\n\n  // Safely compare two values in a way that protects against timing attacks (Double HMAC Verification).\n  // ref: https://www.nccgroup.trust/us/about-us/newsroom-and-events/blog/2011/february/double-hmac-verification/\n  // ref: https://paragonie.com/blog/2015/11/preventing-timing-attacks-on-string-comparison-with-double-hmac-strategy\n  async compare(a: ArrayBuffer, b: ArrayBuffer): Promise<boolean> {\n    const macKey = await this.randomBytes(32);\n    const signingAlgorithm = {\n      name: \"HMAC\",\n      hash: { name: \"SHA-256\" },\n    };\n    const impKey = await this.subtle.importKey(\"raw\", macKey, signingAlgorithm, false, [\"sign\"]);\n    const mac1 = await this.subtle.sign(signingAlgorithm, impKey, a);\n    const mac2 = await this.subtle.sign(signingAlgorithm, impKey, b);\n\n    if (mac1.byteLength !== mac2.byteLength) {\n      return false;\n    }\n\n    const arr1 = new Uint8Array(mac1);\n    const arr2 = new Uint8Array(mac2);\n    for (let i = 0; i < arr2.length; i++) {\n      if (arr1[i] !== arr2[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  hmacFast(value: string, key: string, algorithm: \"sha1\" | \"sha256\" | \"sha512\"): Promise<string> {\n    const hmac = forge.hmac.create();\n    hmac.start(algorithm, key);\n    hmac.update(value);\n    const bytes = hmac.digest().getBytes();\n    return Promise.resolve(bytes);\n  }\n\n  async compareFast(a: string, b: string): Promise<boolean> {\n    const rand = await this.randomBytes(32);\n    const bytes = new Uint32Array(rand);\n    const buffer = forge.util.createBuffer();\n    for (let i = 0; i < bytes.length; i++) {\n      buffer.putInt32(bytes[i]);\n    }\n    const macKey = buffer.getBytes();\n\n    const hmac = forge.hmac.create();\n    hmac.start(\"sha256\", macKey);\n    hmac.update(a);\n    const mac1 = hmac.digest().getBytes();\n\n    hmac.start(null, null);\n    hmac.update(b);\n    const mac2 = hmac.digest().getBytes();\n\n    const equals = mac1 === mac2;\n    return equals;\n  }\n\n  async aesEncrypt(data: ArrayBuffer, iv: ArrayBuffer, key: ArrayBuffer): Promise<ArrayBuffer> {\n    const impKey = await this.subtle.importKey(\"raw\", key, { name: \"AES-CBC\" } as any, false, [\n      \"encrypt\",\n    ]);\n    return await this.subtle.encrypt({ name: \"AES-CBC\", iv: iv }, impKey, data);\n  }\n\n  aesDecryptFastParameters(\n    data: string,\n    iv: string,\n    mac: string,\n    key: SymmetricCryptoKey\n  ): DecryptParameters<string> {\n    const p = new DecryptParameters<string>();\n    if (key.meta != null) {\n      p.encKey = key.meta.encKeyByteString;\n      p.macKey = key.meta.macKeyByteString;\n    }\n\n    if (p.encKey == null) {\n      p.encKey = forge.util.decode64(key.encKeyB64);\n    }\n    p.data = forge.util.decode64(data);\n    p.iv = forge.util.decode64(iv);\n    p.macData = p.iv + p.data;\n    if (p.macKey == null && key.macKeyB64 != null) {\n      p.macKey = forge.util.decode64(key.macKeyB64);\n    }\n    if (mac != null) {\n      p.mac = forge.util.decode64(mac);\n    }\n\n    // cache byte string keys for later\n    if (key.meta == null) {\n      key.meta = {};\n    }\n    if (key.meta.encKeyByteString == null) {\n      key.meta.encKeyByteString = p.encKey;\n    }\n    if (p.macKey != null && key.meta.macKeyByteString == null) {\n      key.meta.macKeyByteString = p.macKey;\n    }\n\n    return p;\n  }\n\n  aesDecryptFast(parameters: DecryptParameters<string>): Promise<string> {\n    const dataBuffer = forge.util.createBuffer(parameters.data);\n    const decipher = forge.cipher.createDecipher(\"AES-CBC\", parameters.encKey);\n    decipher.start({ iv: parameters.iv });\n    decipher.update(dataBuffer);\n    decipher.finish();\n    const val = decipher.output.toString();\n    return Promise.resolve(val);\n  }\n\n  async aesDecrypt(data: ArrayBuffer, iv: ArrayBuffer, key: ArrayBuffer): Promise<ArrayBuffer> {\n    const impKey = await this.subtle.importKey(\"raw\", key, { name: \"AES-CBC\" } as any, false, [\n      \"decrypt\",\n    ]);\n    return await this.subtle.decrypt({ name: \"AES-CBC\", iv: iv }, impKey, data);\n  }\n\n  async rsaEncrypt(\n    data: ArrayBuffer,\n    publicKey: ArrayBuffer,\n    algorithm: \"sha1\" | \"sha256\"\n  ): Promise<ArrayBuffer> {\n    // Note: Edge browser requires that we specify name and hash for both key import and decrypt.\n    // We cannot use the proper types here.\n    const rsaParams = {\n      name: \"RSA-OAEP\",\n      hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n    };\n    const impKey = await this.subtle.importKey(\"spki\", publicKey, rsaParams, false, [\"encrypt\"]);\n    return await this.subtle.encrypt(rsaParams, impKey, data);\n  }\n\n  async rsaDecrypt(\n    data: ArrayBuffer,\n    privateKey: ArrayBuffer,\n    algorithm: \"sha1\" | \"sha256\"\n  ): Promise<ArrayBuffer> {\n    // Note: Edge browser requires that we specify name and hash for both key import and decrypt.\n    // We cannot use the proper types here.\n    const rsaParams = {\n      name: \"RSA-OAEP\",\n      hash: { name: this.toWebCryptoAlgorithm(algorithm) },\n    };\n    const impKey = await this.subtle.importKey(\"pkcs8\", privateKey, rsaParams, false, [\"decrypt\"]);\n    return await this.subtle.decrypt(rsaParams, impKey, data);\n  }\n\n  async rsaExtractPublicKey(privateKey: ArrayBuffer): Promise<ArrayBuffer> {\n    const rsaParams = {\n      name: \"RSA-OAEP\",\n      // Have to specify some algorithm\n      hash: { name: this.toWebCryptoAlgorithm(\"sha1\") },\n    };\n    const impPrivateKey = await this.subtle.importKey(\"pkcs8\", privateKey, rsaParams, true, [\n      \"decrypt\",\n    ]);\n    const jwkPrivateKey = await this.subtle.exportKey(\"jwk\", impPrivateKey);\n    const jwkPublicKeyParams = {\n      kty: \"RSA\",\n      e: jwkPrivateKey.e,\n      n: jwkPrivateKey.n,\n      alg: \"RSA-OAEP\",\n      ext: true,\n    };\n    const impPublicKey = await this.subtle.importKey(\"jwk\", jwkPublicKeyParams, rsaParams, true, [\n      \"encrypt\",\n    ]);\n    return await this.subtle.exportKey(\"spki\", impPublicKey);\n  }\n\n  async rsaGenerateKeyPair(length: 1024 | 2048 | 4096): Promise<[ArrayBuffer, ArrayBuffer]> {\n    const rsaParams = {\n      name: \"RSA-OAEP\",\n      modulusLength: length,\n      publicExponent: new Uint8Array([0x01, 0x00, 0x01]), // 65537\n      // Have to specify some algorithm\n      hash: { name: this.toWebCryptoAlgorithm(\"sha1\") },\n    };\n    const keyPair = (await this.subtle.generateKey(rsaParams, true, [\n      \"encrypt\",\n      \"decrypt\",\n    ])) as CryptoKeyPair;\n    const publicKey = await this.subtle.exportKey(\"spki\", keyPair.publicKey);\n    const privateKey = await this.subtle.exportKey(\"pkcs8\", keyPair.privateKey);\n    return [publicKey, privateKey];\n  }\n\n  randomBytes(length: number): Promise<ArrayBuffer> {\n    const arr = new Uint8Array(length);\n    this.crypto.getRandomValues(arr);\n    return Promise.resolve(arr.buffer);\n  }\n\n  private toBuf(value: string | ArrayBuffer): ArrayBuffer {\n    let buf: ArrayBuffer;\n    if (typeof value === \"string\") {\n      buf = Utils.fromUtf8ToArray(value).buffer;\n    } else {\n      buf = value;\n    }\n    return buf;\n  }\n\n  private toByteString(value: string | ArrayBuffer): string {\n    let bytes: string;\n    if (typeof value === \"string\") {\n      bytes = forge.util.encodeUtf8(value);\n    } else {\n      bytes = Utils.fromBufferToByteString(value);\n    }\n    return bytes;\n  }\n\n  private toWebCryptoAlgorithm(algorithm: \"sha1\" | \"sha256\" | \"sha512\" | \"md5\"): string {\n    if (algorithm === \"md5\") {\n      throw new Error(\"MD5 is not supported in WebCrypto.\");\n    }\n    return algorithm === \"sha1\" ? \"SHA-1\" : algorithm === \"sha256\" ? \"SHA-256\" : \"SHA-512\";\n  }\n}\n","import { EncryptionType } from \"../../enums/encryptionType\";\nimport { IEncrypted } from \"../../interfaces/IEncrypted\";\nimport { Utils } from \"../../misc/utils\";\n\nconst ENC_TYPE_LENGTH = 1;\nconst IV_LENGTH = 16;\nconst MAC_LENGTH = 32;\nconst MIN_DATA_LENGTH = 1;\n\nexport class EncArrayBuffer implements IEncrypted {\n  readonly encryptionType: EncryptionType = null;\n  readonly dataBytes: ArrayBuffer = null;\n  readonly ivBytes: ArrayBuffer = null;\n  readonly macBytes: ArrayBuffer = null;\n\n  constructor(readonly buffer: ArrayBuffer) {\n    const encBytes = new Uint8Array(buffer);\n    const encType = encBytes[0];\n\n    switch (encType) {\n      case EncryptionType.AesCbc128_HmacSha256_B64:\n      case EncryptionType.AesCbc256_HmacSha256_B64: {\n        const minimumLength = ENC_TYPE_LENGTH + IV_LENGTH + MAC_LENGTH + MIN_DATA_LENGTH;\n        if (encBytes.length < minimumLength) {\n          this.throwDecryptionError();\n        }\n\n        this.ivBytes = encBytes.slice(ENC_TYPE_LENGTH, ENC_TYPE_LENGTH + IV_LENGTH).buffer;\n        this.macBytes = encBytes.slice(\n          ENC_TYPE_LENGTH + IV_LENGTH,\n          ENC_TYPE_LENGTH + IV_LENGTH + MAC_LENGTH\n        ).buffer;\n        this.dataBytes = encBytes.slice(ENC_TYPE_LENGTH + IV_LENGTH + MAC_LENGTH).buffer;\n        break;\n      }\n      case EncryptionType.AesCbc256_B64: {\n        const minimumLength = ENC_TYPE_LENGTH + IV_LENGTH + MIN_DATA_LENGTH;\n        if (encBytes.length < minimumLength) {\n          this.throwDecryptionError();\n        }\n\n        this.ivBytes = encBytes.slice(ENC_TYPE_LENGTH, ENC_TYPE_LENGTH + IV_LENGTH).buffer;\n        this.dataBytes = encBytes.slice(ENC_TYPE_LENGTH + IV_LENGTH).buffer;\n        break;\n      }\n      default:\n        this.throwDecryptionError();\n    }\n\n    this.encryptionType = encType;\n  }\n\n  private throwDecryptionError() {\n    throw new Error(\n      \"Error parsing encrypted ArrayBuffer: data is corrupted or has an invalid format.\"\n    );\n  }\n\n  static async fromResponse(response: {\n    arrayBuffer: () => Promise<ArrayBuffer>;\n  }): Promise<EncArrayBuffer> {\n    const buffer = await response.arrayBuffer();\n    if (buffer == null) {\n      throw new Error(\"Cannot create EncArrayBuffer from Response - Response is empty\");\n    }\n    return new EncArrayBuffer(buffer);\n  }\n\n  static fromB64(b64: string) {\n    const buffer = Utils.fromB64ToArray(b64).buffer;\n    return new EncArrayBuffer(buffer);\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { EncryptionType } from \"../../enums/encryptionType\";\nimport { IEncrypted } from \"../../interfaces/IEncrypted\";\nimport { Utils } from \"../../misc/utils\";\n\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class EncString implements IEncrypted {\n  encryptedString?: string;\n  encryptionType?: EncryptionType;\n  decryptedValue?: string;\n  data?: string;\n  iv?: string;\n  mac?: string;\n\n  constructor(\n    encryptedStringOrType: string | EncryptionType,\n    data?: string,\n    iv?: string,\n    mac?: string\n  ) {\n    if (data != null) {\n      this.initFromData(encryptedStringOrType as EncryptionType, data, iv, mac);\n    } else {\n      this.initFromEncryptedString(encryptedStringOrType as string);\n    }\n  }\n\n  get ivBytes(): ArrayBuffer {\n    return this.iv == null ? null : Utils.fromB64ToArray(this.iv).buffer;\n  }\n\n  get macBytes(): ArrayBuffer {\n    return this.mac == null ? null : Utils.fromB64ToArray(this.mac).buffer;\n  }\n\n  get dataBytes(): ArrayBuffer {\n    return this.data == null ? null : Utils.fromB64ToArray(this.data).buffer;\n  }\n\n  toJSON() {\n    return this.encryptedString;\n  }\n\n  static fromJSON(obj: Jsonify<EncString>): EncString {\n    if (obj == null) {\n      return null;\n    }\n\n    return new EncString(obj);\n  }\n\n  private initFromData(encType: EncryptionType, data: string, iv: string, mac: string) {\n    if (iv != null) {\n      this.encryptedString = encType + \".\" + iv + \"|\" + data;\n    } else {\n      this.encryptedString = encType + \".\" + data;\n    }\n\n    // mac\n    if (mac != null) {\n      this.encryptedString += \"|\" + mac;\n    }\n\n    this.encryptionType = encType;\n    this.data = data;\n    this.iv = iv;\n    this.mac = mac;\n  }\n\n  private initFromEncryptedString(encryptedString: string) {\n    this.encryptedString = encryptedString as string;\n    if (!this.encryptedString) {\n      return;\n    }\n\n    const { encType, encPieces } = this.parseEncryptedString(this.encryptedString);\n    this.encryptionType = encType;\n\n    switch (encType) {\n      case EncryptionType.AesCbc128_HmacSha256_B64:\n      case EncryptionType.AesCbc256_HmacSha256_B64:\n        if (encPieces.length !== 3) {\n          return;\n        }\n\n        this.iv = encPieces[0];\n        this.data = encPieces[1];\n        this.mac = encPieces[2];\n        break;\n      case EncryptionType.AesCbc256_B64:\n        if (encPieces.length !== 2) {\n          return;\n        }\n\n        this.iv = encPieces[0];\n        this.data = encPieces[1];\n        break;\n      case EncryptionType.Rsa2048_OaepSha256_B64:\n      case EncryptionType.Rsa2048_OaepSha1_B64:\n        if (encPieces.length !== 1) {\n          return;\n        }\n\n        this.data = encPieces[0];\n        break;\n      default:\n        return;\n    }\n  }\n\n  private parseEncryptedString(encryptedString: string): {\n    encType: EncryptionType;\n    encPieces: string[];\n  } {\n    const headerPieces = encryptedString.split(\".\");\n    let encType: EncryptionType;\n    let encPieces: string[] = null;\n\n    if (headerPieces.length === 2) {\n      try {\n        encType = parseInt(headerPieces[0], null);\n        encPieces = headerPieces[1].split(\"|\");\n      } catch (e) {\n        return;\n      }\n    } else {\n      encPieces = encryptedString.split(\"|\");\n      encType =\n        encPieces.length === 3\n          ? EncryptionType.AesCbc128_HmacSha256_B64\n          : EncryptionType.AesCbc256_B64;\n    }\n\n    return {\n      encType,\n      encPieces,\n    };\n  }\n\n  async decrypt(orgId: string, key: SymmetricCryptoKey = null): Promise<string> {\n    if (this.decryptedValue != null) {\n      return this.decryptedValue;\n    }\n\n    try {\n      if (key == null) {\n        key = await this.getKeyForDecryption(orgId);\n      }\n      if (key == null) {\n        throw new Error(\"No key to decrypt EncString with orgId \" + orgId);\n      }\n\n      const encryptService = Utils.getContainerService().getEncryptService();\n      this.decryptedValue = await encryptService.decryptToUtf8(this, key);\n    } catch (e) {\n      this.decryptedValue = \"[error: cannot decrypt]\";\n    }\n    return this.decryptedValue;\n  }\n\n  private async getKeyForDecryption(orgId: string) {\n    const cryptoService = Utils.getContainerService().getCryptoService();\n    return orgId != null\n      ? await cryptoService.getOrgKey(orgId)\n      : await cryptoService.getKeyForUserEncryption();\n  }\n}\n","import { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class EncryptedObject {\n  iv: ArrayBuffer;\n  data: ArrayBuffer;\n  mac: ArrayBuffer;\n  key: SymmetricCryptoKey;\n}\n","export enum CipherType {\n  Login = 1,\n  SecureNote = 2,\n  Card = 3,\n  Identity = 4,\n}\n","export enum InitializerKey {\n  Cipher = 0,\n  CipherView = 1,\n}\n","export enum CipherRepromptType {\n  None = 0,\n  Password = 1,\n}\n","export type LinkedIdType = LoginLinkedId | CardLinkedId | IdentityLinkedId;\n\n// LoginView\nexport enum LoginLinkedId {\n  Username = 100,\n  Password = 101,\n}\n\n// CardView\nexport enum CardLinkedId {\n  CardholderName = 300,\n  ExpMonth = 301,\n  ExpYear = 302,\n  Code = 303,\n  Brand = 304,\n  Number = 305,\n}\n\n// IdentityView\nexport enum IdentityLinkedId {\n  Title = 400,\n  MiddleName = 401,\n  Address1 = 402,\n  Address2 = 403,\n  Address3 = 404,\n  City = 405,\n  State = 406,\n  PostalCode = 407,\n  Country = 408,\n  Company = 409,\n  Email = 410,\n  Phone = 411,\n  Ssn = 412,\n  Username = 413,\n  PassportNumber = 414,\n  LicenseNumber = 415,\n  FirstName = 416,\n  LastName = 417,\n  FullName = 418,\n}\n","import { CryptoFunctionService } from \"../../abstractions/cryptoFunction.service\";\nimport { EncryptService } from \"../../abstractions/encrypt.service\";\nimport { LogService } from \"../../abstractions/log.service\";\nimport { EncryptionType } from \"../../enums/encryptionType\";\nimport { IEncrypted } from \"../../interfaces/IEncrypted\";\nimport { Decryptable } from \"../../interfaces/decryptable.interface\";\nimport { InitializerMetadata } from \"../../interfaces/initializer-metadata.interface\";\nimport { Utils } from \"../../misc/utils\";\nimport { EncArrayBuffer } from \"../../models/domain/enc-array-buffer\";\nimport { EncString } from \"../../models/domain/enc-string\";\nimport { EncryptedObject } from \"../../models/domain/encrypted-object\";\nimport { SymmetricCryptoKey } from \"../../models/domain/symmetric-crypto-key\";\n\nexport class EncryptServiceImplementation implements EncryptService {\n  constructor(\n    protected cryptoFunctionService: CryptoFunctionService,\n    protected logService: LogService,\n    protected logMacFailures: boolean\n  ) {}\n\n  async encrypt(plainValue: string | ArrayBuffer, key: SymmetricCryptoKey): Promise<EncString> {\n    if (key == null) {\n      throw new Error(\"No encryption key provided.\");\n    }\n\n    if (plainValue == null) {\n      return Promise.resolve(null);\n    }\n\n    let plainBuf: ArrayBuffer;\n    if (typeof plainValue === \"string\") {\n      plainBuf = Utils.fromUtf8ToArray(plainValue).buffer;\n    } else {\n      plainBuf = plainValue;\n    }\n\n    const encObj = await this.aesEncrypt(plainBuf, key);\n    const iv = Utils.fromBufferToB64(encObj.iv);\n    const data = Utils.fromBufferToB64(encObj.data);\n    const mac = encObj.mac != null ? Utils.fromBufferToB64(encObj.mac) : null;\n    return new EncString(encObj.key.encType, data, iv, mac);\n  }\n\n  async encryptToBytes(plainValue: ArrayBuffer, key: SymmetricCryptoKey): Promise<EncArrayBuffer> {\n    if (key == null) {\n      throw new Error(\"No encryption key provided.\");\n    }\n\n    const encValue = await this.aesEncrypt(plainValue, key);\n    let macLen = 0;\n    if (encValue.mac != null) {\n      macLen = encValue.mac.byteLength;\n    }\n\n    const encBytes = new Uint8Array(1 + encValue.iv.byteLength + macLen + encValue.data.byteLength);\n    encBytes.set([encValue.key.encType]);\n    encBytes.set(new Uint8Array(encValue.iv), 1);\n    if (encValue.mac != null) {\n      encBytes.set(new Uint8Array(encValue.mac), 1 + encValue.iv.byteLength);\n    }\n\n    encBytes.set(new Uint8Array(encValue.data), 1 + encValue.iv.byteLength + macLen);\n    return new EncArrayBuffer(encBytes.buffer);\n  }\n\n  async decryptToUtf8(encString: EncString, key: SymmetricCryptoKey): Promise<string> {\n    if (key == null) {\n      throw new Error(\"No key provided for decryption.\");\n    }\n\n    key = this.resolveLegacyKey(key, encString);\n\n    if (key.macKey != null && encString?.mac == null) {\n      this.logService.error(\"mac required.\");\n      return null;\n    }\n\n    if (key.encType !== encString.encryptionType) {\n      this.logService.error(\"encType unavailable.\");\n      return null;\n    }\n\n    const fastParams = this.cryptoFunctionService.aesDecryptFastParameters(\n      encString.data,\n      encString.iv,\n      encString.mac,\n      key\n    );\n    if (fastParams.macKey != null && fastParams.mac != null) {\n      const computedMac = await this.cryptoFunctionService.hmacFast(\n        fastParams.macData,\n        fastParams.macKey,\n        \"sha256\"\n      );\n      const macsEqual = await this.cryptoFunctionService.compareFast(fastParams.mac, computedMac);\n      if (!macsEqual) {\n        this.logMacFailed(\"mac failed.\");\n        return null;\n      }\n    }\n\n    return await this.cryptoFunctionService.aesDecryptFast(fastParams);\n  }\n\n  async decryptToBytes(encThing: IEncrypted, key: SymmetricCryptoKey): Promise<ArrayBuffer> {\n    if (key == null) {\n      throw new Error(\"No encryption key provided.\");\n    }\n\n    if (encThing == null) {\n      throw new Error(\"Nothing provided for decryption.\");\n    }\n\n    key = this.resolveLegacyKey(key, encThing);\n\n    if (key.macKey != null && encThing.macBytes == null) {\n      return null;\n    }\n\n    if (key.encType !== encThing.encryptionType) {\n      return null;\n    }\n\n    if (key.macKey != null && encThing.macBytes != null) {\n      const macData = new Uint8Array(encThing.ivBytes.byteLength + encThing.dataBytes.byteLength);\n      macData.set(new Uint8Array(encThing.ivBytes), 0);\n      macData.set(new Uint8Array(encThing.dataBytes), encThing.ivBytes.byteLength);\n      const computedMac = await this.cryptoFunctionService.hmac(\n        macData.buffer,\n        key.macKey,\n        \"sha256\"\n      );\n      if (computedMac === null) {\n        return null;\n      }\n\n      const macsMatch = await this.cryptoFunctionService.compare(encThing.macBytes, computedMac);\n      if (!macsMatch) {\n        this.logMacFailed(\"mac failed.\");\n        return null;\n      }\n    }\n\n    const result = await this.cryptoFunctionService.aesDecrypt(\n      encThing.dataBytes,\n      encThing.ivBytes,\n      key.encKey\n    );\n\n    return result ?? null;\n  }\n\n  async decryptItems<T extends InitializerMetadata>(\n    items: Decryptable<T>[],\n    key: SymmetricCryptoKey\n  ): Promise<T[]> {\n    if (items == null || items.length < 1) {\n      return [];\n    }\n\n    return await Promise.all(items.map((item) => item.decrypt(key)));\n  }\n\n  private async aesEncrypt(data: ArrayBuffer, key: SymmetricCryptoKey): Promise<EncryptedObject> {\n    const obj = new EncryptedObject();\n    obj.key = key;\n    obj.iv = await this.cryptoFunctionService.randomBytes(16);\n    obj.data = await this.cryptoFunctionService.aesEncrypt(data, obj.iv, obj.key.encKey);\n\n    if (obj.key.macKey != null) {\n      const macData = new Uint8Array(obj.iv.byteLength + obj.data.byteLength);\n      macData.set(new Uint8Array(obj.iv), 0);\n      macData.set(new Uint8Array(obj.data), obj.iv.byteLength);\n      obj.mac = await this.cryptoFunctionService.hmac(macData.buffer, obj.key.macKey, \"sha256\");\n    }\n\n    return obj;\n  }\n\n  private logMacFailed(msg: string) {\n    if (this.logMacFailures) {\n      this.logService.error(msg);\n    }\n  }\n\n  /**\n   * Transform into new key for the old encrypt-then-mac scheme if required, otherwise return the current key unchanged\n   * @param encThing The encrypted object (e.g. encString or encArrayBuffer) that you want to decrypt\n   */\n  resolveLegacyKey(key: SymmetricCryptoKey, encThing: IEncrypted): SymmetricCryptoKey {\n    if (\n      encThing.encryptionType === EncryptionType.AesCbc128_HmacSha256_B64 &&\n      key.encType === EncryptionType.AesCbc256_B64\n    ) {\n      return new SymmetricCryptoKey(key.key, EncryptionType.AesCbc128_HmacSha256_B64);\n    }\n\n    return key;\n  }\n}\n","import { AttachmentResponse } from \"../response/attachment.response\";\n\nexport class AttachmentData {\n  id: string;\n  url: string;\n  fileName: string;\n  key: string;\n  size: string;\n  sizeName: string;\n\n  constructor(response?: AttachmentResponse) {\n    if (response == null) {\n      return;\n    }\n    this.id = response.id;\n    this.url = response.url;\n    this.fileName = response.fileName;\n    this.key = response.key;\n    this.size = response.size;\n    this.sizeName = response.sizeName;\n  }\n}\n","import { CardApi } from \"../api/card.api\";\n\nexport class CardData {\n  cardholderName: string;\n  brand: string;\n  number: string;\n  expMonth: string;\n  expYear: string;\n  code: string;\n\n  constructor(data?: CardApi) {\n    if (data == null) {\n      return;\n    }\n\n    this.cardholderName = data.cardholderName;\n    this.brand = data.brand;\n    this.number = data.number;\n    this.expMonth = data.expMonth;\n    this.expYear = data.expYear;\n    this.code = data.code;\n  }\n}\n","import { FieldType } from \"../../enums/fieldType\";\nimport { LinkedIdType } from \"../../enums/linkedIdType\";\nimport { FieldApi } from \"../api/field.api\";\n\nexport class FieldData {\n  type: FieldType;\n  name: string;\n  value: string;\n  linkedId: LinkedIdType;\n\n  constructor(response?: FieldApi) {\n    if (response == null) {\n      return;\n    }\n    this.type = response.type;\n    this.name = response.name;\n    this.value = response.value;\n    this.linkedId = response.linkedId;\n  }\n}\n","import { IdentityApi } from \"../api/identity.api\";\n\nexport class IdentityData {\n  title: string;\n  firstName: string;\n  middleName: string;\n  lastName: string;\n  address1: string;\n  address2: string;\n  address3: string;\n  city: string;\n  state: string;\n  postalCode: string;\n  country: string;\n  company: string;\n  email: string;\n  phone: string;\n  ssn: string;\n  username: string;\n  passportNumber: string;\n  licenseNumber: string;\n\n  constructor(data?: IdentityApi) {\n    if (data == null) {\n      return;\n    }\n\n    this.title = data.title;\n    this.firstName = data.firstName;\n    this.middleName = data.middleName;\n    this.lastName = data.lastName;\n    this.address1 = data.address1;\n    this.address2 = data.address2;\n    this.address3 = data.address3;\n    this.city = data.city;\n    this.state = data.state;\n    this.postalCode = data.postalCode;\n    this.country = data.country;\n    this.company = data.company;\n    this.email = data.email;\n    this.phone = data.phone;\n    this.ssn = data.ssn;\n    this.username = data.username;\n    this.passportNumber = data.passportNumber;\n    this.licenseNumber = data.licenseNumber;\n  }\n}\n","import { UriMatchType } from \"../../enums/uriMatchType\";\nimport { LoginUriApi } from \"../api/login-uri.api\";\n\nexport class LoginUriData {\n  uri: string;\n  match: UriMatchType = null;\n\n  constructor(data?: LoginUriApi) {\n    if (data == null) {\n      return;\n    }\n    this.uri = data.uri;\n    this.match = data.match;\n  }\n}\n","import { LoginApi } from \"../api/login.api\";\n\nimport { LoginUriData } from \"./login-uri.data\";\n\nexport class LoginData {\n  uris: LoginUriData[];\n  username: string;\n  password: string;\n  passwordRevisionDate: string;\n  totp: string;\n  autofillOnPageLoad: boolean;\n\n  constructor(data?: LoginApi) {\n    if (data == null) {\n      return;\n    }\n\n    this.username = data.username;\n    this.password = data.password;\n    this.passwordRevisionDate = data.passwordRevisionDate;\n    this.totp = data.totp;\n    this.autofillOnPageLoad = data.autofillOnPageLoad;\n\n    if (data.uris) {\n      this.uris = data.uris.map((u) => new LoginUriData(u));\n    }\n  }\n}\n","import { PasswordHistoryResponse } from \"../response/password-history.response\";\n\nexport class PasswordHistoryData {\n  password: string;\n  lastUsedDate: string;\n\n  constructor(response?: PasswordHistoryResponse) {\n    if (response == null) {\n      return;\n    }\n\n    this.password = response.password;\n    this.lastUsedDate = response.lastUsedDate;\n  }\n}\n","import { SecureNoteType } from \"../../enums/secureNoteType\";\nimport { SecureNoteApi } from \"../api/secure-note.api\";\n\nexport class SecureNoteData {\n  type: SecureNoteType;\n\n  constructor(data?: SecureNoteApi) {\n    if (data == null) {\n      return;\n    }\n\n    this.type = data.type;\n  }\n}\n","import { CipherRepromptType } from \"../../enums/cipherRepromptType\";\nimport { CipherType } from \"../../enums/cipherType\";\nimport { CipherResponse } from \"../response/cipher.response\";\n\nimport { AttachmentData } from \"./attachment.data\";\nimport { CardData } from \"./card.data\";\nimport { FieldData } from \"./field.data\";\nimport { IdentityData } from \"./identity.data\";\nimport { LoginData } from \"./login.data\";\nimport { PasswordHistoryData } from \"./password-history.data\";\nimport { SecureNoteData } from \"./secure-note.data\";\n\nexport class CipherData {\n  id: string;\n  organizationId: string;\n  folderId: string;\n  edit: boolean;\n  viewPassword: boolean;\n  organizationUseTotp: boolean;\n  favorite: boolean;\n  revisionDate: string;\n  type: CipherType;\n  name: string;\n  notes: string;\n  login?: LoginData;\n  secureNote?: SecureNoteData;\n  card?: CardData;\n  identity?: IdentityData;\n  fields?: FieldData[];\n  attachments?: AttachmentData[];\n  passwordHistory?: PasswordHistoryData[];\n  collectionIds?: string[];\n  creationDate: string;\n  deletedDate: string;\n  reprompt: CipherRepromptType;\n\n  constructor(response?: CipherResponse, collectionIds?: string[]) {\n    if (response == null) {\n      return;\n    }\n\n    this.id = response.id;\n    this.organizationId = response.organizationId;\n    this.folderId = response.folderId;\n    this.edit = response.edit;\n    this.viewPassword = response.viewPassword;\n    this.organizationUseTotp = response.organizationUseTotp;\n    this.favorite = response.favorite;\n    this.revisionDate = response.revisionDate;\n    this.type = response.type;\n    this.name = response.name;\n    this.notes = response.notes;\n    this.collectionIds = collectionIds != null ? collectionIds : response.collectionIds;\n    this.creationDate = response.creationDate;\n    this.deletedDate = response.deletedDate;\n    this.reprompt = response.reprompt;\n\n    switch (this.type) {\n      case CipherType.Login:\n        this.login = new LoginData(response.login);\n        break;\n      case CipherType.SecureNote:\n        this.secureNote = new SecureNoteData(response.secureNote);\n        break;\n      case CipherType.Card:\n        this.card = new CardData(response.card);\n        break;\n      case CipherType.Identity:\n        this.identity = new IdentityData(response.identity);\n        break;\n      default:\n        break;\n    }\n\n    if (response.fields != null) {\n      this.fields = response.fields.map((f) => new FieldData(f));\n    }\n    if (response.attachments != null) {\n      this.attachments = response.attachments.map((a) => new AttachmentData(a));\n    }\n    if (response.passwordHistory != null) {\n      this.passwordHistory = response.passwordHistory.map((ph) => new PasswordHistoryData(ph));\n    }\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { Attachment } from \"../domain/attachment\";\nimport { SymmetricCryptoKey } from \"../domain/symmetric-crypto-key\";\n\nimport { View } from \"./view\";\n\nexport class AttachmentView implements View {\n  id: string = null;\n  url: string = null;\n  size: string = null;\n  sizeName: string = null;\n  fileName: string = null;\n  key: SymmetricCryptoKey = null;\n\n  constructor(a?: Attachment) {\n    if (!a) {\n      return;\n    }\n\n    this.id = a.id;\n    this.url = a.url;\n    this.size = a.size;\n    this.sizeName = a.sizeName;\n  }\n\n  get fileSize(): number {\n    try {\n      if (this.size != null) {\n        return parseInt(this.size, null);\n      }\n    } catch {\n      // Invalid file size.\n    }\n    return 0;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<AttachmentView>>): AttachmentView {\n    const key = obj.key == null ? null : SymmetricCryptoKey.fromJSON(obj.key);\n    return Object.assign(new AttachmentView(), obj, { key: key });\n  }\n}\n","import { LinkedIdType } from \"../enums/linkedIdType\";\nimport { ItemView } from \"../models/view/item.view\";\n\nexport class LinkedMetadata {\n  constructor(readonly propertyKey: string, private readonly _i18nKey?: string) {}\n\n  get i18nKey() {\n    return this._i18nKey ?? this.propertyKey;\n  }\n}\n\n/**\n * A decorator used to set metadata used by Linked custom fields. Apply it to a class property or getter to make it\n *    available as a Linked custom field option.\n * @param id - A unique value that is saved in the Field model. It is used to look up the decorated class property.\n * @param i18nKey - The i18n key used to describe the decorated class property in the UI. If it is null, then the name\n *    of the class property will be used as the i18n key.\n */\nexport function linkedFieldOption(id: LinkedIdType, i18nKey?: string) {\n  return (prototype: ItemView, propertyKey: string) => {\n    if (prototype.linkedFieldOptions == null) {\n      prototype.linkedFieldOptions = new Map<LinkedIdType, LinkedMetadata>();\n    }\n\n    prototype.linkedFieldOptions.set(id, new LinkedMetadata(propertyKey, i18nKey));\n  };\n}\n","import { LinkedMetadata } from \"../../misc/linkedFieldOption.decorator\";\n\nimport { View } from \"./view\";\n\nexport abstract class ItemView implements View {\n  linkedFieldOptions: Map<number, LinkedMetadata>;\n  abstract get subTitle(): string;\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { CardLinkedId as LinkedId } from \"../../enums/linkedIdType\";\nimport { linkedFieldOption } from \"../../misc/linkedFieldOption.decorator\";\n\nimport { ItemView } from \"./item.view\";\n\nexport class CardView extends ItemView {\n  @linkedFieldOption(LinkedId.CardholderName)\n  cardholderName: string = null;\n  @linkedFieldOption(LinkedId.ExpMonth, \"expirationMonth\")\n  expMonth: string = null;\n  @linkedFieldOption(LinkedId.ExpYear, \"expirationYear\")\n  expYear: string = null;\n  @linkedFieldOption(LinkedId.Code, \"securityCode\")\n  code: string = null;\n\n  private _brand: string = null;\n  private _number: string = null;\n  private _subTitle: string = null;\n\n  get maskedCode(): string {\n    return this.code != null ? \"\".repeat(this.code.length) : null;\n  }\n\n  get maskedNumber(): string {\n    return this.number != null ? \"\".repeat(this.number.length) : null;\n  }\n\n  @linkedFieldOption(LinkedId.Brand)\n  get brand(): string {\n    return this._brand;\n  }\n  set brand(value: string) {\n    this._brand = value;\n    this._subTitle = null;\n  }\n\n  @linkedFieldOption(LinkedId.Number)\n  get number(): string {\n    return this._number;\n  }\n  set number(value: string) {\n    this._number = value;\n    this._subTitle = null;\n  }\n\n  get subTitle(): string {\n    if (this._subTitle == null) {\n      this._subTitle = this.brand;\n      if (this.number != null && this.number.length >= 4) {\n        if (this._subTitle != null && this._subTitle !== \"\") {\n          this._subTitle += \", \";\n        } else {\n          this._subTitle = \"\";\n        }\n\n        // Show last 5 on amex, last 4 for all others\n        const count =\n          this.number.length >= 5 && this.number.match(new RegExp(\"^3[47]\")) != null ? 5 : 4;\n        this._subTitle += \"*\" + this.number.substr(this.number.length - count);\n      }\n    }\n    return this._subTitle;\n  }\n\n  get expiration(): string {\n    if (!this.expMonth && !this.expYear) {\n      return null;\n    }\n\n    let exp = this.expMonth != null ? (\"0\" + this.expMonth).slice(-2) : \"__\";\n    exp += \" / \" + (this.expYear != null ? this.formatYear(this.expYear) : \"____\");\n    return exp;\n  }\n\n  private formatYear(year: string): string {\n    return year.length === 2 ? \"20\" + year : year;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<CardView>>): CardView {\n    return Object.assign(new CardView(), obj);\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { FieldType } from \"../../enums/fieldType\";\nimport { LinkedIdType } from \"../../enums/linkedIdType\";\nimport { Field } from \"../domain/field\";\n\nimport { View } from \"./view\";\n\nexport class FieldView implements View {\n  name: string = null;\n  value: string = null;\n  type: FieldType = null;\n  newField = false; // Marks if the field is new and hasn't been saved\n  showValue = false;\n  showCount = false;\n  linkedId: LinkedIdType = null;\n\n  constructor(f?: Field) {\n    if (!f) {\n      return;\n    }\n\n    this.type = f.type;\n    this.linkedId = f.linkedId;\n  }\n\n  get maskedValue(): string {\n    return this.value != null ? \"\" : null;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<FieldView>>): FieldView {\n    return Object.assign(new FieldView(), obj);\n  }\n}\n","export enum UriMatchType {\n  Domain = 0,\n  Host = 1,\n  StartsWith = 2,\n  Exact = 3,\n  RegularExpression = 4,\n  Never = 5,\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { IdentityLinkedId as LinkedId } from \"../../enums/linkedIdType\";\nimport { linkedFieldOption } from \"../../misc/linkedFieldOption.decorator\";\nimport { Utils } from \"../../misc/utils\";\n\nimport { ItemView } from \"./item.view\";\n\nexport class IdentityView extends ItemView {\n  @linkedFieldOption(LinkedId.Title)\n  title: string = null;\n  @linkedFieldOption(LinkedId.MiddleName)\n  middleName: string = null;\n  @linkedFieldOption(LinkedId.Address1)\n  address1: string = null;\n  @linkedFieldOption(LinkedId.Address2)\n  address2: string = null;\n  @linkedFieldOption(LinkedId.Address3)\n  address3: string = null;\n  @linkedFieldOption(LinkedId.City, \"cityTown\")\n  city: string = null;\n  @linkedFieldOption(LinkedId.State, \"stateProvince\")\n  state: string = null;\n  @linkedFieldOption(LinkedId.PostalCode, \"zipPostalCode\")\n  postalCode: string = null;\n  @linkedFieldOption(LinkedId.Country)\n  country: string = null;\n  @linkedFieldOption(LinkedId.Company)\n  company: string = null;\n  @linkedFieldOption(LinkedId.Email)\n  email: string = null;\n  @linkedFieldOption(LinkedId.Phone)\n  phone: string = null;\n  @linkedFieldOption(LinkedId.Ssn)\n  ssn: string = null;\n  @linkedFieldOption(LinkedId.Username)\n  username: string = null;\n  @linkedFieldOption(LinkedId.PassportNumber)\n  passportNumber: string = null;\n  @linkedFieldOption(LinkedId.LicenseNumber)\n  licenseNumber: string = null;\n\n  private _firstName: string = null;\n  private _lastName: string = null;\n  private _subTitle: string = null;\n\n  constructor() {\n    super();\n  }\n\n  @linkedFieldOption(LinkedId.FirstName)\n  get firstName(): string {\n    return this._firstName;\n  }\n  set firstName(value: string) {\n    this._firstName = value;\n    this._subTitle = null;\n  }\n\n  @linkedFieldOption(LinkedId.LastName)\n  get lastName(): string {\n    return this._lastName;\n  }\n  set lastName(value: string) {\n    this._lastName = value;\n    this._subTitle = null;\n  }\n\n  get subTitle(): string {\n    if (this._subTitle == null && (this.firstName != null || this.lastName != null)) {\n      this._subTitle = \"\";\n      if (this.firstName != null) {\n        this._subTitle = this.firstName;\n      }\n      if (this.lastName != null) {\n        if (this._subTitle !== \"\") {\n          this._subTitle += \" \";\n        }\n        this._subTitle += this.lastName;\n      }\n    }\n\n    return this._subTitle;\n  }\n\n  @linkedFieldOption(LinkedId.FullName)\n  get fullName(): string {\n    if (\n      this.title != null ||\n      this.firstName != null ||\n      this.middleName != null ||\n      this.lastName != null\n    ) {\n      let name = \"\";\n      if (this.title != null) {\n        name += this.title + \" \";\n      }\n      if (this.firstName != null) {\n        name += this.firstName + \" \";\n      }\n      if (this.middleName != null) {\n        name += this.middleName + \" \";\n      }\n      if (this.lastName != null) {\n        name += this.lastName;\n      }\n      return name.trim();\n    }\n\n    return null;\n  }\n\n  get fullAddress(): string {\n    let address = this.address1;\n    if (!Utils.isNullOrWhitespace(this.address2)) {\n      if (!Utils.isNullOrWhitespace(address)) {\n        address += \", \";\n      }\n      address += this.address2;\n    }\n    if (!Utils.isNullOrWhitespace(this.address3)) {\n      if (!Utils.isNullOrWhitespace(address)) {\n        address += \", \";\n      }\n      address += this.address3;\n    }\n    return address;\n  }\n\n  get fullAddressPart2(): string {\n    if (this.city == null && this.state == null && this.postalCode == null) {\n      return null;\n    }\n    const city = this.city || \"-\";\n    const state = this.state;\n    const postalCode = this.postalCode || \"-\";\n    let addressPart2 = city;\n    if (!Utils.isNullOrWhitespace(state)) {\n      addressPart2 += \", \" + state;\n    }\n    addressPart2 += \", \" + postalCode;\n    return addressPart2;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<IdentityView>>): IdentityView {\n    return Object.assign(new IdentityView(), obj);\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { UriMatchType } from \"../../enums/uriMatchType\";\nimport { Utils } from \"../../misc/utils\";\nimport { LoginUri } from \"../domain/login-uri\";\n\nimport { View } from \"./view\";\n\nconst CanLaunchWhitelist = [\n  \"https://\",\n  \"http://\",\n  \"ssh://\",\n  \"ftp://\",\n  \"sftp://\",\n  \"irc://\",\n  \"vnc://\",\n  // https://docs.microsoft.com/en-us/windows-server/remote/remote-desktop-services/clients/remote-desktop-uri\n  \"rdp://\", // Legacy RDP URI scheme\n  \"ms-rd:\", // Preferred RDP URI scheme\n  \"chrome://\",\n  \"iosapp://\",\n  \"androidapp://\",\n];\n\nexport class LoginUriView implements View {\n  match: UriMatchType = null;\n\n  private _uri: string = null;\n  private _domain: string = null;\n  private _hostname: string = null;\n  private _host: string = null;\n  private _canLaunch: boolean = null;\n\n  constructor(u?: LoginUri) {\n    if (!u) {\n      return;\n    }\n\n    this.match = u.match;\n  }\n\n  get uri(): string {\n    return this._uri;\n  }\n  set uri(value: string) {\n    this._uri = value;\n    this._domain = null;\n    this._canLaunch = null;\n  }\n\n  get domain(): string {\n    if (this._domain == null && this.uri != null) {\n      this._domain = Utils.getDomain(this.uri);\n      if (this._domain === \"\") {\n        this._domain = null;\n      }\n    }\n\n    return this._domain;\n  }\n\n  get hostname(): string {\n    if (this.match === UriMatchType.RegularExpression) {\n      return null;\n    }\n    if (this._hostname == null && this.uri != null) {\n      this._hostname = Utils.getHostname(this.uri);\n      if (this._hostname === \"\") {\n        this._hostname = null;\n      }\n    }\n\n    return this._hostname;\n  }\n\n  get host(): string {\n    if (this.match === UriMatchType.RegularExpression) {\n      return null;\n    }\n    if (this._host == null && this.uri != null) {\n      this._host = Utils.getHost(this.uri);\n      if (this._host === \"\") {\n        this._host = null;\n      }\n    }\n\n    return this._host;\n  }\n\n  get hostnameOrUri(): string {\n    return this.hostname != null ? this.hostname : this.uri;\n  }\n\n  get hostOrUri(): string {\n    return this.host != null ? this.host : this.uri;\n  }\n\n  get isWebsite(): boolean {\n    return (\n      this.uri != null &&\n      (this.uri.indexOf(\"http://\") === 0 ||\n        this.uri.indexOf(\"https://\") === 0 ||\n        (this.uri.indexOf(\"://\") < 0 && !Utils.isNullOrWhitespace(Utils.getDomain(this.uri))))\n    );\n  }\n\n  get canLaunch(): boolean {\n    if (this._canLaunch != null) {\n      return this._canLaunch;\n    }\n    if (this.uri != null && this.match !== UriMatchType.RegularExpression) {\n      const uri = this.launchUri;\n      for (let i = 0; i < CanLaunchWhitelist.length; i++) {\n        if (uri.indexOf(CanLaunchWhitelist[i]) === 0) {\n          this._canLaunch = true;\n          return this._canLaunch;\n        }\n      }\n    }\n    this._canLaunch = false;\n    return this._canLaunch;\n  }\n\n  get launchUri(): string {\n    return this.uri.indexOf(\"://\") < 0 && !Utils.isNullOrWhitespace(Utils.getDomain(this.uri))\n      ? \"http://\" + this.uri\n      : this.uri;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<LoginUriView>>): LoginUriView {\n    return Object.assign(new LoginUriView(), obj);\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { LoginLinkedId as LinkedId } from \"../../enums/linkedIdType\";\nimport { linkedFieldOption } from \"../../misc/linkedFieldOption.decorator\";\nimport { Utils } from \"../../misc/utils\";\nimport { Login } from \"../domain/login\";\n\nimport { ItemView } from \"./item.view\";\nimport { LoginUriView } from \"./login-uri.view\";\n\nexport class LoginView extends ItemView {\n  @linkedFieldOption(LinkedId.Username)\n  username: string = null;\n  @linkedFieldOption(LinkedId.Password)\n  password: string = null;\n\n  passwordRevisionDate?: Date = null;\n  totp: string = null;\n  uris: LoginUriView[] = null;\n  autofillOnPageLoad: boolean = null;\n\n  constructor(l?: Login) {\n    super();\n    if (!l) {\n      return;\n    }\n\n    this.passwordRevisionDate = l.passwordRevisionDate;\n    this.autofillOnPageLoad = l.autofillOnPageLoad;\n  }\n\n  get uri(): string {\n    return this.hasUris ? this.uris[0].uri : null;\n  }\n\n  get maskedPassword(): string {\n    return this.password != null ? \"\" : null;\n  }\n\n  get subTitle(): string {\n    return this.username;\n  }\n\n  get canLaunch(): boolean {\n    return this.hasUris && this.uris.some((u) => u.canLaunch);\n  }\n\n  get hasTotp(): boolean {\n    return !Utils.isNullOrWhitespace(this.totp);\n  }\n\n  get launchUri(): string {\n    if (this.hasUris) {\n      const uri = this.uris.find((u) => u.canLaunch);\n      if (uri != null) {\n        return uri.launchUri;\n      }\n    }\n    return null;\n  }\n\n  get hasUris(): boolean {\n    return this.uris != null && this.uris.length > 0;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<LoginView>>): LoginView {\n    const passwordRevisionDate =\n      obj.passwordRevisionDate == null ? null : new Date(obj.passwordRevisionDate);\n    const uris = obj.uris?.map((uri: any) => LoginUriView.fromJSON(uri));\n\n    return Object.assign(new LoginView(), obj, {\n      passwordRevisionDate: passwordRevisionDate,\n      uris: uris,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { Password } from \"../domain/password\";\n\nimport { View } from \"./view\";\n\nexport class PasswordHistoryView implements View {\n  password: string = null;\n  lastUsedDate: Date = null;\n\n  constructor(ph?: Password) {\n    if (!ph) {\n      return;\n    }\n\n    this.lastUsedDate = ph.lastUsedDate;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<PasswordHistoryView>>): PasswordHistoryView {\n    const lastUsedDate = obj.lastUsedDate == null ? null : new Date(obj.lastUsedDate);\n\n    return Object.assign(new PasswordHistoryView(), obj, {\n      lastUsedDate: lastUsedDate,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { SecureNoteType } from \"../../enums/secureNoteType\";\nimport { SecureNote } from \"../domain/secure-note\";\n\nimport { ItemView } from \"./item.view\";\n\nexport class SecureNoteView extends ItemView {\n  type: SecureNoteType = null;\n\n  constructor(n?: SecureNote) {\n    super();\n    if (!n) {\n      return;\n    }\n\n    this.type = n.type;\n  }\n\n  get subTitle(): string {\n    return null;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<SecureNoteView>>): SecureNoteView {\n    return Object.assign(new SecureNoteView(), obj);\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { CipherRepromptType } from \"../../enums/cipherRepromptType\";\nimport { CipherType } from \"../../enums/cipherType\";\nimport { LinkedIdType } from \"../../enums/linkedIdType\";\nimport { InitializerMetadata } from \"../../interfaces/initializer-metadata.interface\";\nimport { InitializerKey } from \"../../services/cryptography/initializer-key\";\nimport { LocalData } from \"../data/local.data\";\nimport { Cipher } from \"../domain/cipher\";\n\nimport { AttachmentView } from \"./attachment.view\";\nimport { CardView } from \"./card.view\";\nimport { FieldView } from \"./field.view\";\nimport { IdentityView } from \"./identity.view\";\nimport { LoginView } from \"./login.view\";\nimport { PasswordHistoryView } from \"./password-history.view\";\nimport { SecureNoteView } from \"./secure-note.view\";\nimport { View } from \"./view\";\n\nexport class CipherView implements View, InitializerMetadata {\n  readonly initializerKey = InitializerKey.CipherView;\n\n  id: string = null;\n  organizationId: string = null;\n  folderId: string = null;\n  name: string = null;\n  notes: string = null;\n  type: CipherType = null;\n  favorite = false;\n  organizationUseTotp = false;\n  edit = false;\n  viewPassword = true;\n  localData: LocalData;\n  login = new LoginView();\n  identity = new IdentityView();\n  card = new CardView();\n  secureNote = new SecureNoteView();\n  attachments: AttachmentView[] = null;\n  fields: FieldView[] = null;\n  passwordHistory: PasswordHistoryView[] = null;\n  collectionIds: string[] = null;\n  revisionDate: Date = null;\n  creationDate: Date = null;\n  deletedDate: Date = null;\n  reprompt: CipherRepromptType = CipherRepromptType.None;\n\n  constructor(c?: Cipher) {\n    if (!c) {\n      return;\n    }\n\n    this.id = c.id;\n    this.organizationId = c.organizationId;\n    this.folderId = c.folderId;\n    this.favorite = c.favorite;\n    this.organizationUseTotp = c.organizationUseTotp;\n    this.edit = c.edit;\n    this.viewPassword = c.viewPassword;\n    this.type = c.type;\n    this.localData = c.localData;\n    this.collectionIds = c.collectionIds;\n    this.revisionDate = c.revisionDate;\n    this.creationDate = c.creationDate;\n    this.deletedDate = c.deletedDate;\n    // Old locally stored ciphers might have reprompt == null. If so set it to None.\n    this.reprompt = c.reprompt ?? CipherRepromptType.None;\n  }\n\n  private get item() {\n    switch (this.type) {\n      case CipherType.Login:\n        return this.login;\n      case CipherType.SecureNote:\n        return this.secureNote;\n      case CipherType.Card:\n        return this.card;\n      case CipherType.Identity:\n        return this.identity;\n      default:\n        break;\n    }\n\n    return null;\n  }\n\n  get subTitle(): string {\n    return this.item.subTitle;\n  }\n\n  get hasPasswordHistory(): boolean {\n    return this.passwordHistory && this.passwordHistory.length > 0;\n  }\n\n  get hasAttachments(): boolean {\n    return this.attachments && this.attachments.length > 0;\n  }\n\n  get hasOldAttachments(): boolean {\n    if (this.hasAttachments) {\n      for (let i = 0; i < this.attachments.length; i++) {\n        if (this.attachments[i].key == null) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  get hasFields(): boolean {\n    return this.fields && this.fields.length > 0;\n  }\n\n  get passwordRevisionDisplayDate(): Date {\n    if (this.type !== CipherType.Login || this.login == null) {\n      return null;\n    } else if (this.login.password == null || this.login.password === \"\") {\n      return null;\n    }\n    return this.login.passwordRevisionDate;\n  }\n\n  get isDeleted(): boolean {\n    return this.deletedDate != null;\n  }\n\n  get linkedFieldOptions() {\n    return this.item.linkedFieldOptions;\n  }\n\n  linkedFieldValue(id: LinkedIdType) {\n    const linkedFieldOption = this.linkedFieldOptions?.get(id);\n    if (linkedFieldOption == null) {\n      return null;\n    }\n\n    const item = this.item;\n    return this.item[linkedFieldOption.propertyKey as keyof typeof item];\n  }\n\n  linkedFieldI18nKey(id: LinkedIdType): string {\n    return this.linkedFieldOptions.get(id)?.i18nKey;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<CipherView>>): CipherView {\n    const view = new CipherView();\n    const revisionDate = obj.revisionDate == null ? null : new Date(obj.revisionDate);\n    const deletedDate = obj.deletedDate == null ? null : new Date(obj.deletedDate);\n    const attachments = obj.attachments?.map((a: any) => AttachmentView.fromJSON(a));\n    const fields = obj.fields?.map((f: any) => FieldView.fromJSON(f));\n    const passwordHistory = obj.passwordHistory?.map((ph: any) => PasswordHistoryView.fromJSON(ph));\n\n    Object.assign(view, obj, {\n      revisionDate: revisionDate,\n      deletedDate: deletedDate,\n      attachments: attachments,\n      fields: fields,\n      passwordHistory: passwordHistory,\n    });\n\n    switch (obj.type) {\n      case CipherType.Card:\n        view.card = CardView.fromJSON(obj.card);\n        break;\n      case CipherType.Identity:\n        view.identity = IdentityView.fromJSON(obj.identity);\n        break;\n      case CipherType.Login:\n        view.login = LoginView.fromJSON(obj.login);\n        break;\n      case CipherType.SecureNote:\n        view.secureNote = SecureNoteView.fromJSON(obj.secureNote);\n        break;\n      default:\n        break;\n    }\n\n    return view;\n  }\n}\n","import { View } from \"../view/view\";\n\nimport { EncString } from \"./enc-string\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport default class Domain {\n  protected buildDomainModel<D extends Domain>(\n    domain: D,\n    dataObj: any,\n    map: any,\n    notEncList: any[] = []\n  ) {\n    for (const prop in map) {\n      // eslint-disable-next-line\n      if (!map.hasOwnProperty(prop)) {\n        continue;\n      }\n\n      const objProp = dataObj[map[prop] || prop];\n      if (notEncList.indexOf(prop) > -1) {\n        (domain as any)[prop] = objProp ? objProp : null;\n      } else {\n        (domain as any)[prop] = objProp ? new EncString(objProp) : null;\n      }\n    }\n  }\n  protected buildDataModel<D extends Domain>(\n    domain: D,\n    dataObj: any,\n    map: any,\n    notEncStringList: any[] = []\n  ) {\n    for (const prop in map) {\n      // eslint-disable-next-line\n      if (!map.hasOwnProperty(prop)) {\n        continue;\n      }\n\n      const objProp = (domain as any)[map[prop] || prop];\n      if (notEncStringList.indexOf(prop) > -1) {\n        (dataObj as any)[prop] = objProp != null ? objProp : null;\n      } else {\n        (dataObj as any)[prop] = objProp != null ? (objProp as EncString).encryptedString : null;\n      }\n    }\n  }\n\n  protected async decryptObj<T extends View>(\n    viewModel: T,\n    map: any,\n    orgId: string,\n    key: SymmetricCryptoKey = null\n  ): Promise<T> {\n    const promises = [];\n    const self: any = this;\n\n    for (const prop in map) {\n      // eslint-disable-next-line\n      if (!map.hasOwnProperty(prop)) {\n        continue;\n      }\n\n      (function (theProp) {\n        const p = Promise.resolve()\n          .then(() => {\n            const mapProp = map[theProp] || theProp;\n            if (self[mapProp]) {\n              return self[mapProp].decrypt(orgId, key);\n            }\n            return null;\n          })\n          .then((val: any) => {\n            (viewModel as any)[theProp] = val;\n          });\n        promises.push(p);\n      })(prop);\n    }\n\n    await Promise.all(promises);\n    return viewModel;\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { Utils } from \"../../misc/utils\";\nimport { AttachmentData } from \"../data/attachment.data\";\nimport { AttachmentView } from \"../view/attachment.view\";\n\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class Attachment extends Domain {\n  id: string;\n  url: string;\n  size: string;\n  sizeName: string; // Readable size, ex: \"4.2 KB\" or \"1.43 GB\"\n  key: EncString;\n  fileName: EncString;\n\n  constructor(obj?: AttachmentData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.size = obj.size;\n    this.buildDomainModel(\n      this,\n      obj,\n      {\n        id: null,\n        url: null,\n        sizeName: null,\n        fileName: null,\n        key: null,\n      },\n      [\"id\", \"url\", \"sizeName\"]\n    );\n  }\n\n  async decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<AttachmentView> {\n    const view = await this.decryptObj(\n      new AttachmentView(this),\n      {\n        fileName: null,\n      },\n      orgId,\n      encKey\n    );\n\n    if (this.key != null) {\n      view.key = await this.decryptAttachmentKey(orgId, encKey);\n    }\n\n    return view;\n  }\n\n  private async decryptAttachmentKey(orgId: string, encKey?: SymmetricCryptoKey) {\n    try {\n      if (encKey == null) {\n        encKey = await this.getKeyForDecryption(orgId);\n      }\n\n      const encryptService = Utils.getContainerService().getEncryptService();\n      const decValue = await encryptService.decryptToBytes(this.key, encKey);\n      return new SymmetricCryptoKey(decValue);\n    } catch (e) {\n      // TODO: error?\n    }\n  }\n\n  private async getKeyForDecryption(orgId: string) {\n    const cryptoService = Utils.getContainerService().getCryptoService();\n    return orgId != null\n      ? await cryptoService.getOrgKey(orgId)\n      : await cryptoService.getKeyForUserEncryption();\n  }\n\n  toAttachmentData(): AttachmentData {\n    const a = new AttachmentData();\n    a.size = this.size;\n    this.buildDataModel(\n      this,\n      a,\n      {\n        id: null,\n        url: null,\n        sizeName: null,\n        fileName: null,\n        key: null,\n      },\n      [\"id\", \"url\", \"sizeName\"]\n    );\n    return a;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<Attachment>>): Attachment {\n    if (obj == null) {\n      return null;\n    }\n\n    const key = EncString.fromJSON(obj.key);\n    const fileName = EncString.fromJSON(obj.fileName);\n\n    return Object.assign(new Attachment(), obj, {\n      key,\n      fileName,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { CardData } from \"../data/card.data\";\nimport { CardView } from \"../view/card.view\";\n\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class Card extends Domain {\n  cardholderName: EncString;\n  brand: EncString;\n  number: EncString;\n  expMonth: EncString;\n  expYear: EncString;\n  code: EncString;\n\n  constructor(obj?: CardData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.buildDomainModel(\n      this,\n      obj,\n      {\n        cardholderName: null,\n        brand: null,\n        number: null,\n        expMonth: null,\n        expYear: null,\n        code: null,\n      },\n      []\n    );\n  }\n\n  decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<CardView> {\n    return this.decryptObj(\n      new CardView(),\n      {\n        cardholderName: null,\n        brand: null,\n        number: null,\n        expMonth: null,\n        expYear: null,\n        code: null,\n      },\n      orgId,\n      encKey\n    );\n  }\n\n  toCardData(): CardData {\n    const c = new CardData();\n    this.buildDataModel(this, c, {\n      cardholderName: null,\n      brand: null,\n      number: null,\n      expMonth: null,\n      expYear: null,\n      code: null,\n    });\n    return c;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<Card>>): Card {\n    if (obj == null) {\n      return null;\n    }\n\n    const cardholderName = EncString.fromJSON(obj.cardholderName);\n    const brand = EncString.fromJSON(obj.brand);\n    const number = EncString.fromJSON(obj.number);\n    const expMonth = EncString.fromJSON(obj.expMonth);\n    const expYear = EncString.fromJSON(obj.expYear);\n    const code = EncString.fromJSON(obj.code);\n    return Object.assign(new Card(), obj, {\n      cardholderName,\n      brand,\n      number,\n      expMonth,\n      expYear,\n      code,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { FieldType } from \"../../enums/fieldType\";\nimport { LinkedIdType } from \"../../enums/linkedIdType\";\nimport { FieldData } from \"../data/field.data\";\nimport { FieldView } from \"../view/field.view\";\n\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class Field extends Domain {\n  name: EncString;\n  value: EncString;\n  type: FieldType;\n  linkedId: LinkedIdType;\n\n  constructor(obj?: FieldData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.type = obj.type;\n    this.linkedId = obj.linkedId;\n    this.buildDomainModel(\n      this,\n      obj,\n      {\n        name: null,\n        value: null,\n      },\n      []\n    );\n  }\n\n  decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<FieldView> {\n    return this.decryptObj(\n      new FieldView(this),\n      {\n        name: null,\n        value: null,\n      },\n      orgId,\n      encKey\n    );\n  }\n\n  toFieldData(): FieldData {\n    const f = new FieldData();\n    this.buildDataModel(\n      this,\n      f,\n      {\n        name: null,\n        value: null,\n        type: null,\n        linkedId: null,\n      },\n      [\"type\", \"linkedId\"]\n    );\n    return f;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<Field>>): Field {\n    if (obj == null) {\n      return null;\n    }\n\n    const name = EncString.fromJSON(obj.name);\n    const value = EncString.fromJSON(obj.value);\n\n    return Object.assign(new Field(), obj, {\n      name,\n      value,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { IdentityData } from \"../data/identity.data\";\nimport { IdentityView } from \"../view/identity.view\";\n\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class Identity extends Domain {\n  title: EncString;\n  firstName: EncString;\n  middleName: EncString;\n  lastName: EncString;\n  address1: EncString;\n  address2: EncString;\n  address3: EncString;\n  city: EncString;\n  state: EncString;\n  postalCode: EncString;\n  country: EncString;\n  company: EncString;\n  email: EncString;\n  phone: EncString;\n  ssn: EncString;\n  username: EncString;\n  passportNumber: EncString;\n  licenseNumber: EncString;\n\n  constructor(obj?: IdentityData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.buildDomainModel(\n      this,\n      obj,\n      {\n        title: null,\n        firstName: null,\n        middleName: null,\n        lastName: null,\n        address1: null,\n        address2: null,\n        address3: null,\n        city: null,\n        state: null,\n        postalCode: null,\n        country: null,\n        company: null,\n        email: null,\n        phone: null,\n        ssn: null,\n        username: null,\n        passportNumber: null,\n        licenseNumber: null,\n      },\n      []\n    );\n  }\n\n  decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<IdentityView> {\n    return this.decryptObj(\n      new IdentityView(),\n      {\n        title: null,\n        firstName: null,\n        middleName: null,\n        lastName: null,\n        address1: null,\n        address2: null,\n        address3: null,\n        city: null,\n        state: null,\n        postalCode: null,\n        country: null,\n        company: null,\n        email: null,\n        phone: null,\n        ssn: null,\n        username: null,\n        passportNumber: null,\n        licenseNumber: null,\n      },\n      orgId,\n      encKey\n    );\n  }\n\n  toIdentityData(): IdentityData {\n    const i = new IdentityData();\n    this.buildDataModel(this, i, {\n      title: null,\n      firstName: null,\n      middleName: null,\n      lastName: null,\n      address1: null,\n      address2: null,\n      address3: null,\n      city: null,\n      state: null,\n      postalCode: null,\n      country: null,\n      company: null,\n      email: null,\n      phone: null,\n      ssn: null,\n      username: null,\n      passportNumber: null,\n      licenseNumber: null,\n    });\n    return i;\n  }\n\n  static fromJSON(obj: Jsonify<Identity>): Identity {\n    if (obj == null) {\n      return null;\n    }\n\n    const title = EncString.fromJSON(obj.title);\n    const firstName = EncString.fromJSON(obj.firstName);\n    const middleName = EncString.fromJSON(obj.middleName);\n    const lastName = EncString.fromJSON(obj.lastName);\n    const address1 = EncString.fromJSON(obj.address1);\n    const address2 = EncString.fromJSON(obj.address2);\n    const address3 = EncString.fromJSON(obj.address3);\n    const city = EncString.fromJSON(obj.city);\n    const state = EncString.fromJSON(obj.state);\n    const postalCode = EncString.fromJSON(obj.postalCode);\n    const country = EncString.fromJSON(obj.country);\n    const company = EncString.fromJSON(obj.company);\n    const email = EncString.fromJSON(obj.email);\n    const phone = EncString.fromJSON(obj.phone);\n    const ssn = EncString.fromJSON(obj.ssn);\n    const username = EncString.fromJSON(obj.username);\n    const passportNumber = EncString.fromJSON(obj.passportNumber);\n    const licenseNumber = EncString.fromJSON(obj.licenseNumber);\n\n    return Object.assign(new Identity(), obj, {\n      title,\n      firstName,\n      middleName,\n      lastName,\n      address1,\n      address2,\n      address3,\n      city,\n      state,\n      postalCode,\n      country,\n      company,\n      email,\n      phone,\n      ssn,\n      username,\n      passportNumber,\n      licenseNumber,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { UriMatchType } from \"../../enums/uriMatchType\";\nimport { LoginUriData } from \"../data/login-uri.data\";\nimport { LoginUriView } from \"../view/login-uri.view\";\n\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class LoginUri extends Domain {\n  uri: EncString;\n  match: UriMatchType;\n\n  constructor(obj?: LoginUriData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.match = obj.match;\n    this.buildDomainModel(\n      this,\n      obj,\n      {\n        uri: null,\n      },\n      []\n    );\n  }\n\n  decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<LoginUriView> {\n    return this.decryptObj(\n      new LoginUriView(this),\n      {\n        uri: null,\n      },\n      orgId,\n      encKey\n    );\n  }\n\n  toLoginUriData(): LoginUriData {\n    const u = new LoginUriData();\n    this.buildDataModel(\n      this,\n      u,\n      {\n        uri: null,\n        match: null,\n      },\n      [\"match\"]\n    );\n    return u;\n  }\n\n  static fromJSON(obj: Jsonify<LoginUri>): LoginUri {\n    if (obj == null) {\n      return null;\n    }\n\n    const uri = EncString.fromJSON(obj.uri);\n    return Object.assign(new LoginUri(), obj, {\n      uri,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { LoginData } from \"../data/login.data\";\nimport { LoginView } from \"../view/login.view\";\n\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { LoginUri } from \"./login-uri\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class Login extends Domain {\n  uris: LoginUri[];\n  username: EncString;\n  password: EncString;\n  passwordRevisionDate?: Date;\n  totp: EncString;\n  autofillOnPageLoad: boolean;\n\n  constructor(obj?: LoginData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.passwordRevisionDate =\n      obj.passwordRevisionDate != null ? new Date(obj.passwordRevisionDate) : null;\n    this.autofillOnPageLoad = obj.autofillOnPageLoad;\n    this.buildDomainModel(\n      this,\n      obj,\n      {\n        username: null,\n        password: null,\n        totp: null,\n      },\n      []\n    );\n\n    if (obj.uris) {\n      this.uris = [];\n      obj.uris.forEach((u) => {\n        this.uris.push(new LoginUri(u));\n      });\n    }\n  }\n\n  async decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<LoginView> {\n    const view = await this.decryptObj(\n      new LoginView(this),\n      {\n        username: null,\n        password: null,\n        totp: null,\n      },\n      orgId,\n      encKey\n    );\n\n    if (this.uris != null) {\n      view.uris = [];\n      for (let i = 0; i < this.uris.length; i++) {\n        const uri = await this.uris[i].decrypt(orgId, encKey);\n        view.uris.push(uri);\n      }\n    }\n\n    return view;\n  }\n\n  toLoginData(): LoginData {\n    const l = new LoginData();\n    l.passwordRevisionDate =\n      this.passwordRevisionDate != null ? this.passwordRevisionDate.toISOString() : null;\n    l.autofillOnPageLoad = this.autofillOnPageLoad;\n    this.buildDataModel(this, l, {\n      username: null,\n      password: null,\n      totp: null,\n    });\n\n    if (this.uris != null && this.uris.length > 0) {\n      l.uris = [];\n      this.uris.forEach((u) => {\n        l.uris.push(u.toLoginUriData());\n      });\n    }\n\n    return l;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<Login>>): Login {\n    if (obj == null) {\n      return null;\n    }\n\n    const username = EncString.fromJSON(obj.username);\n    const password = EncString.fromJSON(obj.password);\n    const totp = EncString.fromJSON(obj.totp);\n    const passwordRevisionDate =\n      obj.passwordRevisionDate == null ? null : new Date(obj.passwordRevisionDate);\n    const uris = obj.uris?.map((uri: any) => LoginUri.fromJSON(uri));\n\n    return Object.assign(new Login(), obj, {\n      username,\n      password,\n      totp,\n      passwordRevisionDate: passwordRevisionDate,\n      uris: uris,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { PasswordHistoryData } from \"../data/password-history.data\";\nimport { PasswordHistoryView } from \"../view/password-history.view\";\n\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class Password extends Domain {\n  password: EncString;\n  lastUsedDate: Date;\n\n  constructor(obj?: PasswordHistoryData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.buildDomainModel(this, obj, {\n      password: null,\n    });\n    this.lastUsedDate = new Date(obj.lastUsedDate);\n  }\n\n  decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<PasswordHistoryView> {\n    return this.decryptObj(\n      new PasswordHistoryView(this),\n      {\n        password: null,\n      },\n      orgId,\n      encKey\n    );\n  }\n\n  toPasswordHistoryData(): PasswordHistoryData {\n    const ph = new PasswordHistoryData();\n    ph.lastUsedDate = this.lastUsedDate.toISOString();\n    this.buildDataModel(this, ph, {\n      password: null,\n    });\n    return ph;\n  }\n\n  static fromJSON(obj: Partial<Jsonify<Password>>): Password {\n    if (obj == null) {\n      return null;\n    }\n\n    const password = EncString.fromJSON(obj.password);\n    const lastUsedDate = obj.lastUsedDate == null ? null : new Date(obj.lastUsedDate);\n\n    return Object.assign(new Password(), obj, {\n      password,\n      lastUsedDate,\n    });\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { SecureNoteType } from \"../../enums/secureNoteType\";\nimport { SecureNoteData } from \"../data/secure-note.data\";\nimport { SecureNoteView } from \"../view/secure-note.view\";\n\nimport Domain from \"./domain-base\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class SecureNote extends Domain {\n  type: SecureNoteType;\n\n  constructor(obj?: SecureNoteData) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.type = obj.type;\n  }\n\n  decrypt(orgId: string, encKey?: SymmetricCryptoKey): Promise<SecureNoteView> {\n    return Promise.resolve(new SecureNoteView(this));\n  }\n\n  toSecureNoteData(): SecureNoteData {\n    const n = new SecureNoteData();\n    n.type = this.type;\n    return n;\n  }\n\n  static fromJSON(obj: Jsonify<SecureNote>): SecureNote {\n    if (obj == null) {\n      return null;\n    }\n\n    return Object.assign(new SecureNote(), obj);\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { CipherRepromptType } from \"../../enums/cipherRepromptType\";\nimport { CipherType } from \"../../enums/cipherType\";\nimport { Decryptable } from \"../../interfaces/decryptable.interface\";\nimport { InitializerKey } from \"../../services/cryptography/initializer-key\";\nimport { CipherData } from \"../data/cipher.data\";\nimport { LocalData } from \"../data/local.data\";\nimport { CipherView } from \"../view/cipher.view\";\n\nimport { Attachment } from \"./attachment\";\nimport { Card } from \"./card\";\nimport Domain from \"./domain-base\";\nimport { EncString } from \"./enc-string\";\nimport { Field } from \"./field\";\nimport { Identity } from \"./identity\";\nimport { Login } from \"./login\";\nimport { Password } from \"./password\";\nimport { SecureNote } from \"./secure-note\";\nimport { SymmetricCryptoKey } from \"./symmetric-crypto-key\";\n\nexport class Cipher extends Domain implements Decryptable<CipherView> {\n  readonly initializerKey = InitializerKey.Cipher;\n\n  id: string;\n  organizationId: string;\n  folderId: string;\n  name: EncString;\n  notes: EncString;\n  type: CipherType;\n  favorite: boolean;\n  organizationUseTotp: boolean;\n  edit: boolean;\n  viewPassword: boolean;\n  revisionDate: Date;\n  localData: LocalData;\n  login: Login;\n  identity: Identity;\n  card: Card;\n  secureNote: SecureNote;\n  attachments: Attachment[];\n  fields: Field[];\n  passwordHistory: Password[];\n  collectionIds: string[];\n  creationDate: Date;\n  deletedDate: Date;\n  reprompt: CipherRepromptType;\n\n  constructor(obj?: CipherData, localData: LocalData = null) {\n    super();\n    if (obj == null) {\n      return;\n    }\n\n    this.buildDomainModel(\n      this,\n      obj,\n      {\n        id: null,\n        organizationId: null,\n        folderId: null,\n        name: null,\n        notes: null,\n      },\n      [\"id\", \"organizationId\", \"folderId\"]\n    );\n\n    this.type = obj.type;\n    this.favorite = obj.favorite;\n    this.organizationUseTotp = obj.organizationUseTotp;\n    this.edit = obj.edit;\n    if (obj.viewPassword != null) {\n      this.viewPassword = obj.viewPassword;\n    } else {\n      this.viewPassword = true; // Default for already synced Ciphers without viewPassword\n    }\n    this.revisionDate = obj.revisionDate != null ? new Date(obj.revisionDate) : null;\n    this.collectionIds = obj.collectionIds;\n    this.localData = localData;\n    this.creationDate = obj.creationDate != null ? new Date(obj.creationDate) : null;\n    this.deletedDate = obj.deletedDate != null ? new Date(obj.deletedDate) : null;\n    this.reprompt = obj.reprompt;\n\n    switch (this.type) {\n      case CipherType.Login:\n        this.login = new Login(obj.login);\n        break;\n      case CipherType.SecureNote:\n        this.secureNote = new SecureNote(obj.secureNote);\n        break;\n      case CipherType.Card:\n        this.card = new Card(obj.card);\n        break;\n      case CipherType.Identity:\n        this.identity = new Identity(obj.identity);\n        break;\n      default:\n        break;\n    }\n\n    if (obj.attachments != null) {\n      this.attachments = obj.attachments.map((a) => new Attachment(a));\n    } else {\n      this.attachments = null;\n    }\n\n    if (obj.fields != null) {\n      this.fields = obj.fields.map((f) => new Field(f));\n    } else {\n      this.fields = null;\n    }\n\n    if (obj.passwordHistory != null) {\n      this.passwordHistory = obj.passwordHistory.map((ph) => new Password(ph));\n    } else {\n      this.passwordHistory = null;\n    }\n  }\n\n  async decrypt(encKey?: SymmetricCryptoKey): Promise<CipherView> {\n    const model = new CipherView(this);\n\n    await this.decryptObj(\n      model,\n      {\n        name: null,\n        notes: null,\n      },\n      this.organizationId,\n      encKey\n    );\n\n    switch (this.type) {\n      case CipherType.Login:\n        model.login = await this.login.decrypt(this.organizationId, encKey);\n        break;\n      case CipherType.SecureNote:\n        model.secureNote = await this.secureNote.decrypt(this.organizationId, encKey);\n        break;\n      case CipherType.Card:\n        model.card = await this.card.decrypt(this.organizationId, encKey);\n        break;\n      case CipherType.Identity:\n        model.identity = await this.identity.decrypt(this.organizationId, encKey);\n        break;\n      default:\n        break;\n    }\n\n    const orgId = this.organizationId;\n\n    if (this.attachments != null && this.attachments.length > 0) {\n      const attachments: any[] = [];\n      await this.attachments.reduce((promise, attachment) => {\n        return promise\n          .then(() => {\n            return attachment.decrypt(orgId, encKey);\n          })\n          .then((decAttachment) => {\n            attachments.push(decAttachment);\n          });\n      }, Promise.resolve());\n      model.attachments = attachments;\n    }\n\n    if (this.fields != null && this.fields.length > 0) {\n      const fields: any[] = [];\n      await this.fields.reduce((promise, field) => {\n        return promise\n          .then(() => {\n            return field.decrypt(orgId, encKey);\n          })\n          .then((decField) => {\n            fields.push(decField);\n          });\n      }, Promise.resolve());\n      model.fields = fields;\n    }\n\n    if (this.passwordHistory != null && this.passwordHistory.length > 0) {\n      const passwordHistory: any[] = [];\n      await this.passwordHistory.reduce((promise, ph) => {\n        return promise\n          .then(() => {\n            return ph.decrypt(orgId, encKey);\n          })\n          .then((decPh) => {\n            passwordHistory.push(decPh);\n          });\n      }, Promise.resolve());\n      model.passwordHistory = passwordHistory;\n    }\n\n    return model;\n  }\n\n  toCipherData(): CipherData {\n    const c = new CipherData();\n    c.id = this.id;\n    c.organizationId = this.organizationId;\n    c.folderId = this.folderId;\n    c.edit = this.edit;\n    c.viewPassword = this.viewPassword;\n    c.organizationUseTotp = this.organizationUseTotp;\n    c.favorite = this.favorite;\n    c.revisionDate = this.revisionDate != null ? this.revisionDate.toISOString() : null;\n    c.type = this.type;\n    c.collectionIds = this.collectionIds;\n    c.creationDate = this.creationDate != null ? this.creationDate.toISOString() : null;\n    c.deletedDate = this.deletedDate != null ? this.deletedDate.toISOString() : null;\n    c.reprompt = this.reprompt;\n\n    this.buildDataModel(this, c, {\n      name: null,\n      notes: null,\n    });\n\n    switch (c.type) {\n      case CipherType.Login:\n        c.login = this.login.toLoginData();\n        break;\n      case CipherType.SecureNote:\n        c.secureNote = this.secureNote.toSecureNoteData();\n        break;\n      case CipherType.Card:\n        c.card = this.card.toCardData();\n        break;\n      case CipherType.Identity:\n        c.identity = this.identity.toIdentityData();\n        break;\n      default:\n        break;\n    }\n\n    if (this.fields != null) {\n      c.fields = this.fields.map((f) => f.toFieldData());\n    }\n    if (this.attachments != null) {\n      c.attachments = this.attachments.map((a) => a.toAttachmentData());\n    }\n    if (this.passwordHistory != null) {\n      c.passwordHistory = this.passwordHistory.map((ph) => ph.toPasswordHistoryData());\n    }\n    return c;\n  }\n\n  static fromJSON(obj: Jsonify<Cipher>) {\n    if (obj == null) {\n      return null;\n    }\n\n    const domain = new Cipher();\n    const name = EncString.fromJSON(obj.name);\n    const notes = EncString.fromJSON(obj.notes);\n    const revisionDate = obj.revisionDate == null ? null : new Date(obj.revisionDate);\n    const deletedDate = obj.deletedDate == null ? null : new Date(obj.deletedDate);\n    const attachments = obj.attachments?.map((a: any) => Attachment.fromJSON(a));\n    const fields = obj.fields?.map((f: any) => Field.fromJSON(f));\n    const passwordHistory = obj.passwordHistory?.map((ph: any) => Password.fromJSON(ph));\n\n    Object.assign(domain, obj, {\n      name,\n      notes,\n      revisionDate,\n      deletedDate,\n      attachments,\n      fields,\n      passwordHistory,\n    });\n\n    switch (obj.type) {\n      case CipherType.Card:\n        domain.card = Card.fromJSON(obj.card);\n        break;\n      case CipherType.Identity:\n        domain.identity = Identity.fromJSON(obj.identity);\n        break;\n      case CipherType.Login:\n        domain.login = Login.fromJSON(obj.login);\n        break;\n      case CipherType.SecureNote:\n        domain.secureNote = SecureNote.fromJSON(obj.secureNote);\n        break;\n      default:\n        break;\n    }\n\n    return domain;\n  }\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { InitializerMetadata } from \"../../interfaces/initializer-metadata.interface\";\nimport { Cipher } from \"../../models/domain/cipher\";\nimport { CipherView } from \"../../models/view/cipher.view\";\n\nimport { InitializerKey } from \"./initializer-key\";\n\n/**\n * Internal reference of classes so we can reconstruct objects properly.\n * Each entry should be keyed using the Decryptable.initializerKey property\n */\nconst classInitializers: Record<InitializerKey, (obj: any) => any> = {\n  [InitializerKey.Cipher]: Cipher.fromJSON,\n  [InitializerKey.CipherView]: CipherView.fromJSON,\n};\n\nexport function getClassInitializer<T extends InitializerMetadata>(\n  className: InitializerKey\n): (obj: Jsonify<T>) => T {\n  return classInitializers[className];\n}\n","import { Jsonify } from \"type-fest\";\n\nimport { Decryptable } from \"../../interfaces/decryptable.interface\";\nimport { SymmetricCryptoKey } from \"../../models/domain/symmetric-crypto-key\";\nimport { ConsoleLogService } from \"../../services/consoleLog.service\";\nimport { ContainerService } from \"../../services/container.service\";\nimport { WebCryptoFunctionService } from \"../../services/webCryptoFunction.service\";\n\nimport { EncryptServiceImplementation } from \"./encrypt.service.implementation\";\nimport { getClassInitializer } from \"./get-class-initializer\";\n\nconst workerApi: Worker = self as any;\n\nlet inited = false;\nlet encryptService: EncryptServiceImplementation;\n\n/**\n * Bootstrap the worker environment with services required for decryption\n */\nexport function init() {\n  const cryptoFunctionService = new WebCryptoFunctionService(self);\n  const logService = new ConsoleLogService(false);\n  encryptService = new EncryptServiceImplementation(cryptoFunctionService, logService, true);\n\n  const bitwardenContainerService = new ContainerService(null, encryptService);\n  bitwardenContainerService.attachToGlobal(self);\n\n  inited = true;\n}\n\n/**\n * Listen for messages and decrypt their contents\n */\nworkerApi.addEventListener(\"message\", async (event: { data: string }) => {\n  if (!inited) {\n    init();\n  }\n\n  const request: {\n    id: string;\n    items: Jsonify<Decryptable<any>>[];\n    key: Jsonify<SymmetricCryptoKey>;\n  } = JSON.parse(event.data);\n\n  const key = SymmetricCryptoKey.fromJSON(request.key);\n  const items = request.items.map((jsonItem) => {\n    const initializer = getClassInitializer<Decryptable<any>>(jsonItem.initializerKey);\n    return initializer(jsonItem);\n  });\n  const result = await encryptService.decryptItems(items, key);\n\n  workerApi.postMessage({\n    id: request.id,\n    items: JSON.stringify(result),\n  });\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [933], () => (__webpack_require__(50007)))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"6ce03ae789e31b21134d\" + \".js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t447: 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunk_bitwarden_web_vault\"] = self[\"webpackChunk_bitwarden_web_vault\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","EncryptionType","nodeURL","window","Utils","static","inited","isNode","process","release","name","isBrowser","isMobileBrowser","this","isMobile","isAppleMobileBrowser","isAppleMobile","global","g","self","str","Uint8Array","Buffer","from","binaryString","atob","bytes","length","i","charCodeAt","fromB64ToArray","fromUrlB64ToB64","parseInt","substr","strUtf8","unescape","encodeURIComponent","arr","buffer","toString","binary","byteLength","String","fromCharCode","btoa","fromB64toUrlB64","fromBufferToB64","b64Str","replace","encodedString","apply","decodeURIComponent","escape","Array","prototype","map","call","x","slice","join","urlB64Str","output","Error","fromB64ToUtf8","utfStr","fromBufferToUrlB64","fromUtf8ToArray","c","r","Math","random","id","RegExp","test","uriString","isNullOrWhitespace","trim","startsWith","indexOf","hostname","validHosts","url","getUrl","host","parseResult","isIp","domain","search","Map","split","forEach","pair","parts","set","toLowerCase","i18nService","prop","a","b","collator","compare","localeCompare","obj","undefined","target","source","Object","assign","keys","filter","k","Number","isNaN","getUrlObject","s","charAt","toUpperCase","bgColor","threshold","svgTextFill","bgColorHexNums","substring","hash","color","bitwardenContainerService","win","mobile","navigator","userAgent","vendor","opera","match","URL","hasProtocol","anchor","document","createElement","href","e","regexpEmojiPresentation","init","SymmetricCryptoKey","constructor","key","encType","AesCbc256_B64","AesCbc256_HmacSha256_B64","encKey","macKey","AesCbc128_HmacSha256_B64","keyB64","encKeyB64","macKeyB64","toJSON","arrayBuffer","LogLevelType","ConsoleLogService","isDev","timersMap","debug","message","write","Debug","info","Info","warning","Warning","error","level","console","log","warn","ContainerService","cryptoService","encryptService","attachToGlobal","getCryptoService","getEncryptService","DecryptParameters","WebCryptoFunctionService","crypto","subtle","pbkdf2","password","salt","algorithm","iterations","wcLen","passwordBuf","toBuf","pbkdf2Params","toWebCryptoAlgorithm","impKey","importKey","deriveBits","hkdf","ikm","outputByteSize","hkdfParams","hkdfExpand","prk","hashLen","infoBuf","infoArr","runningOkmLength","previousT","n","ceil","okm","t","hmac","value","md","valueBytes","toByteString","update","fromByteStringToArray","digest","data","valueBuf","signingAlgorithm","sign","randomBytes","mac1","mac2","arr1","arr2","hmacFast","start","getBytes","Promise","resolve","compareFast","rand","Uint32Array","putInt32","aesEncrypt","iv","encrypt","aesDecryptFastParameters","mac","p","meta","encKeyByteString","macKeyByteString","macData","aesDecryptFast","parameters","dataBuffer","decipher","finish","val","aesDecrypt","decrypt","rsaEncrypt","publicKey","rsaParams","rsaDecrypt","privateKey","rsaExtractPublicKey","impPrivateKey","jwkPrivateKey","exportKey","jwkPublicKeyParams","kty","alg","ext","impPublicKey","rsaGenerateKeyPair","modulusLength","publicExponent","keyPair","generateKey","getRandomValues","buf","fromBufferToByteString","EncArrayBuffer","encryptionType","dataBytes","ivBytes","macBytes","encBytes","minimumLength","ENC_TYPE_LENGTH","throwDecryptionError","response","b64","EncString","encryptedStringOrType","initFromData","initFromEncryptedString","encryptedString","encPieces","parseEncryptedString","Rsa2048_OaepSha256_B64","Rsa2048_OaepSha1_B64","headerPieces","orgId","decryptedValue","getKeyForDecryption","getContainerService","decryptToUtf8","getOrgKey","getKeyForUserEncryption","EncryptedObject","CipherType","InitializerKey","CipherRepromptType","LoginLinkedId","CardLinkedId","IdentityLinkedId","EncryptServiceImplementation","cryptoFunctionService","logService","logMacFailures","plainValue","plainBuf","encObj","encryptToBytes","encValue","macLen","encString","resolveLegacyKey","fastParams","computedMac","logMacFailed","decryptToBytes","encThing","result","decryptItems","items","all","item","msg","AttachmentData","fileName","size","sizeName","CardData","cardholderName","brand","number","expMonth","expYear","code","FieldData","type","linkedId","IdentityData","title","firstName","middleName","lastName","address1","address2","address3","city","state","postalCode","country","company","email","phone","ssn","username","passportNumber","licenseNumber","LoginUriData","uri","LoginData","passwordRevisionDate","totp","autofillOnPageLoad","uris","u","PasswordHistoryData","lastUsedDate","SecureNoteData","CipherData","collectionIds","organizationId","folderId","edit","viewPassword","organizationUseTotp","favorite","revisionDate","notes","creationDate","deletedDate","reprompt","Login","login","SecureNote","secureNote","Card","card","Identity","identity","fields","f","attachments","passwordHistory","ph","AttachmentView","fileSize","fromJSON","LinkedMetadata","propertyKey","_i18nKey","i18nKey","linkedFieldOption","linkedFieldOptions","ItemView","CardView","_brand","_number","_subTitle","maskedCode","repeat","maskedNumber","subTitle","count","expiration","exp","formatYear","year","FieldView","newField","showValue","showCount","maskedValue","UriMatchType","IdentityView","super","_firstName","_lastName","fullName","fullAddress","address","fullAddressPart2","addressPart2","CanLaunchWhitelist","LoginUriView","_uri","_domain","_hostname","_host","_canLaunch","getDomain","RegularExpression","getHostname","getHost","hostnameOrUri","hostOrUri","isWebsite","canLaunch","launchUri","LoginView","l","hasUris","maskedPassword","some","hasTotp","find","Date","PasswordHistoryView","SecureNoteView","CipherView","initializerKey","None","localData","hasPasswordHistory","hasAttachments","hasOldAttachments","hasFields","passwordRevisionDisplayDate","isDeleted","linkedFieldValue","get","linkedFieldI18nKey","view","Domain","buildDomainModel","dataObj","notEncList","hasOwnProperty","objProp","buildDataModel","notEncStringList","decryptObj","viewModel","promises","theProp","then","mapProp","push","Attachment","decryptAttachmentKey","decValue","toAttachmentData","toCardData","Field","toFieldData","toIdentityData","LoginUri","toLoginUriData","toLoginData","toISOString","Password","toPasswordHistoryData","toSecureNoteData","Cipher","model","reduce","promise","attachment","decAttachment","field","decField","decPh","toCipherData","classInitializers","workerApi","addEventListener","event","request","JSON","parse","jsonItem","className","postMessage","stringify","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","m","__webpack_exports__","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","every","splice","d","definition","o","defineProperty","enumerable","chunkId","miniCssF","globalThis","Function","nmd","paths","children","scriptUrl","importScripts","location","currentScript","src","scripts","getElementsByTagName","installedChunks","chunkLoadingGlobal","parentChunkLoadingFunction","bind","moreModules","runtime","pop"],"sourceRoot":""}